<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
        <title>ch20_ExceptionsAndStateManae</title>
        <style>:root
{
    --markdown-font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", system-ui, "Ubuntu", "Droid Sans", sans-serif;
    --markdown-font-size: 14px;
    --markdown-line-height: 1.6;
    --vscode-font-family:"Segoe WPC", "Segoe UI", sans-serif;
    --vscode-font-weight:normal;
    --vscode-font-size:13px;
    --vscode-editor-font-family:Consolas, "Courier New", monospace;
    --vscode-editor-font-weight:normal;
    --vscode-editor-font-size:14px;
    --vscode-foreground:#616161;
    --vscode-errorForeground:#a1260d;
    --vscode-descriptionForeground:#717171;
    --vscode-icon-foreground:#424242;
    --vscode-focusBorder:#0090f1;
    --vscode-textSeparator-foreground:rgba(0, 0, 0, 0.18);
    --vscode-textLink-foreground:#006ab1;
    --vscode-textLink-activeForeground:#006ab1;
    --vscode-textPreformat-foreground:#a31515;
    --vscode-textBlockQuote-background:rgba(127, 127, 127, 0.1);
    --vscode-textBlockQuote-border:rgba(0, 122, 204, 0.5);
    --vscode-textCodeBlock-background:rgba(220, 220, 220, 0.4);
    --vscode-widget-shadow:#a8a8a8;
    --vscode-input-background:#ffffff;
    --vscode-input-foreground:#616161;
    --vscode-inputOption-activeBorder:rgba(0, 122, 204, 0);
    --vscode-inputOption-activeBackground:rgba(0, 144, 241, 0.2);
    --vscode-inputOption-activeForeground:#000000;
    --vscode-input-placeholderForeground:#767676;
    --vscode-inputValidation-infoBackground:#d6ecf2;
    --vscode-inputValidation-infoBorder:#007acc;
    --vscode-inputValidation-warningBackground:#f6f5d2;
    --vscode-inputValidation-warningBorder:#b89500;
    --vscode-inputValidation-errorBackground:#f2dede;
    --vscode-inputValidation-errorBorder:#be1100;
    --vscode-dropdown-background:#ffffff;
    --vscode-dropdown-border:#cecece;
    --vscode-checkbox-background:#ffffff;
    --vscode-checkbox-border:#cecece;
    --vscode-button-foreground:#ffffff;
    --vscode-button-background:#007acc;
    --vscode-button-hoverBackground:#0062a3;
    --vscode-button-secondaryForeground:#ffffff;
    --vscode-button-secondaryBackground:#5f6a79;
    --vscode-button-secondaryHoverBackground:#4c5561;
    --vscode-badge-background:#c4c4c4;
    --vscode-badge-foreground:#333333;
    --vscode-scrollbar-shadow:#dddddd;
    --vscode-scrollbarSlider-background:rgba(100, 100, 100, 0.4);
    --vscode-scrollbarSlider-hoverBackground:rgba(100, 100, 100, 0.7);
    --vscode-scrollbarSlider-activeBackground:rgba(0, 0, 0, 0.6);
    --vscode-progressBar-background:#0e70c0;
    --vscode-editorError-foreground:#e51400;
    --vscode-editorWarning-foreground:#e9a700;
    --vscode-editorInfo-foreground:#75beff;
    --vscode-editorHint-foreground:#6c6c6c;
    --vscode-editor-background:#ffffff;
    --vscode-editor-foreground:#000000;
    --vscode-editorWidget-background:#f3f3f3;
    --vscode-editorWidget-foreground:#616161;
    --vscode-editorWidget-border:#c8c8c8;
    --vscode-quickInput-background:#f3f3f3;
    --vscode-quickInput-foreground:#616161;
    --vscode-quickInputTitle-background:rgba(0, 0, 0, 0.06);
    --vscode-pickerGroup-foreground:#0066bf;
    --vscode-pickerGroup-border:#cccedb;
    --vscode-editor-selectionBackground:#add6ff;
    --vscode-editor-inactiveSelectionBackground:#e5ebf1;
    --vscode-editor-selectionHighlightBackground:rgba(173, 214, 255, 0.5);
    --vscode-editor-findMatchBackground:#a8ac94;
    --vscode-editor-findMatchHighlightBackground:rgba(234, 92, 0, 0.33);
    --vscode-editor-findRangeHighlightBackground:rgba(180, 180, 180, 0.3);
    --vscode-searchEditor-findMatchBackground:rgba(234, 92, 0, 0.22);
    --vscode-editor-hoverHighlightBackground:rgba(173, 214, 255, 0.15);
    --vscode-editorHoverWidget-background:#f3f3f3;
    --vscode-editorHoverWidget-foreground:#616161;
    --vscode-editorHoverWidget-border:#c8c8c8;
    --vscode-editorHoverWidget-statusBarBackground:#e7e7e7;
    --vscode-editorLink-activeForeground:#0000ff;
    --vscode-editorLightBulb-foreground:#ddb100;
    --vscode-editorLightBulbAutoFix-foreground:#007acc;
    --vscode-diffEditor-insertedTextBackground:rgba(155, 185, 85, 0.2);
    --vscode-diffEditor-removedTextBackground:rgba(255, 0, 0, 0.2);
    --vscode-diffEditor-diagonalFill:rgba(34, 34, 34, 0.2);
    --vscode-list-focusBackground:#d6ebff;
    --vscode-list-activeSelectionBackground:#0074e8;
    --vscode-list-activeSelectionForeground:#ffffff;
    --vscode-list-inactiveSelectionBackground:#e4e6f1;
    --vscode-list-hoverBackground:#e8e8e8;
    --vscode-list-dropBackground:#d6ebff;
    --vscode-list-highlightForeground:#0066bf;
    --vscode-list-invalidItemForeground:#b89500;
    --vscode-list-errorForeground:#b01011;
    --vscode-list-warningForeground:#855f00;
    --vscode-listFilterWidget-background:#efc1ad;
    --vscode-listFilterWidget-outline:rgba(0, 0, 0, 0);
    --vscode-listFilterWidget-noMatchesOutline:#be1100;
    --vscode-list-filterMatchBackground:rgba(234, 92, 0, 0.33);
    --vscode-tree-indentGuidesStroke:#a9a9a9;
    --vscode-list-deemphasizedForeground:#8e8e90;
    --vscode-menu-foreground:#616161;
    --vscode-menu-background:#ffffff;
    --vscode-menu-selectionForeground:#ffffff;
    --vscode-menu-selectionBackground:#0074e8;
    --vscode-menu-separatorBackground:#888888;
    --vscode-editor-snippetTabstopHighlightBackground:rgba(10, 50, 100, 0.2);
    --vscode-editor-snippetFinalTabstopHighlightBorder:rgba(10, 50, 100, 0.5);
    --vscode-breadcrumb-foreground:rgba(97, 97, 97, 0.8);
    --vscode-breadcrumb-background:#ffffff;
    --vscode-breadcrumb-focusForeground:#4e4e4e;
    --vscode-breadcrumb-activeSelectionForeground:#4e4e4e;
    --vscode-breadcrumbPicker-background:#f3f3f3;
    --vscode-merge-currentHeaderBackground:rgba(64, 200, 174, 0.5);
    --vscode-merge-currentContentBackground:rgba(64, 200, 174, 0.2);
    --vscode-merge-incomingHeaderBackground:rgba(64, 166, 255, 0.5);
    --vscode-merge-incomingContentBackground:rgba(64, 166, 255, 0.2);
    --vscode-merge-commonHeaderBackground:rgba(96, 96, 96, 0.4);
    --vscode-merge-commonContentBackground:rgba(96, 96, 96, 0.16);
    --vscode-editorOverviewRuler-currentContentForeground:rgba(64, 200, 174, 0.5);
    --vscode-editorOverviewRuler-incomingContentForeground:rgba(64, 166, 255, 0.5);
    --vscode-editorOverviewRuler-commonContentForeground:rgba(96, 96, 96, 0.4);
    --vscode-editorOverviewRuler-findMatchForeground:rgba(209, 134, 22, 0.49);
    --vscode-editorOverviewRuler-selectionHighlightForeground:rgba(160, 160, 160, 0.8);
    --vscode-minimap-findMatchHighlight:#d18616;
    --vscode-minimap-selectionHighlight:#add6ff;
    --vscode-minimap-errorHighlight:rgba(255, 18, 18, 0.7);
    --vscode-minimap-warningHighlight:#e9a700;
    --vscode-minimapSlider-background:rgba(100, 100, 100, 0.2);
    --vscode-minimapSlider-hoverBackground:rgba(100, 100, 100, 0.35);
    --vscode-minimapSlider-activeBackground:rgba(0, 0, 0, 0.3);
    --vscode-problemsErrorIcon-foreground:#e51400;
    --vscode-problemsWarningIcon-foreground:#e9a700;
    --vscode-problemsInfoIcon-foreground:#75beff;
    --vscode-editor-lineHighlightBorder:#eeeeee;
    --vscode-editor-rangeHighlightBackground:rgba(253, 255, 0, 0.2);
    --vscode-editor-symbolHighlightBackground:rgba(234, 92, 0, 0.33);
    --vscode-editorCursor-foreground:#000000;
    --vscode-editorWhitespace-foreground:rgba(51, 51, 51, 0.2);
    --vscode-editorIndentGuide-background:#d3d3d3;
    --vscode-editorIndentGuide-activeBackground:#939393;
    --vscode-editorLineNumber-foreground:#237893;
    --vscode-editorActiveLineNumber-foreground:#0b216f;
    --vscode-editorLineNumber-activeForeground:#0b216f;
    --vscode-editorRuler-foreground:#d3d3d3;
    --vscode-editorCodeLens-foreground:#999999;
    --vscode-editorBracketMatch-background:rgba(0, 100, 0, 0.1);
    --vscode-editorBracketMatch-border:#b9b9b9;
    --vscode-editorOverviewRuler-border:rgba(127, 127, 127, 0.3);
    --vscode-editorGutter-background:#ffffff;
    --vscode-editorUnnecessaryCode-opacity:rgba(0, 0, 0, 0.47);
    --vscode-editorOverviewRuler-rangeHighlightForeground:rgba(0, 122, 204, 0.6);
    --vscode-editorOverviewRuler-errorForeground:rgba(255, 18, 18, 0.7);
    --vscode-editorOverviewRuler-warningForeground:#e9a700;
    --vscode-editorOverviewRuler-infoForeground:#75beff;
    --vscode-editorOverviewRuler-bracketMatchForeground:#a0a0a0;
    --vscode-symbolIcon-arrayForeground:#616161;
    --vscode-symbolIcon-booleanForeground:#616161;
    --vscode-symbolIcon-classForeground:#d67e00;
    --vscode-symbolIcon-colorForeground:#616161;
    --vscode-symbolIcon-constantForeground:#616161;
    --vscode-symbolIcon-constructorForeground:#652d90;
    --vscode-symbolIcon-enumeratorForeground:#d67e00;
    --vscode-symbolIcon-enumeratorMemberForeground:#007acc;
    --vscode-symbolIcon-eventForeground:#d67e00;
    --vscode-symbolIcon-fieldForeground:#007acc;
    --vscode-symbolIcon-fileForeground:#616161;
    --vscode-symbolIcon-folderForeground:#616161;
    --vscode-symbolIcon-functionForeground:#652d90;
    --vscode-symbolIcon-interfaceForeground:#007acc;
    --vscode-symbolIcon-keyForeground:#616161;
    --vscode-symbolIcon-keywordForeground:#616161;
    --vscode-symbolIcon-methodForeground:#652d90;
    --vscode-symbolIcon-moduleForeground:#616161;
    --vscode-symbolIcon-namespaceForeground:#616161;
    --vscode-symbolIcon-nullForeground:#616161;
    --vscode-symbolIcon-numberForeground:#616161;
    --vscode-symbolIcon-objectForeground:#616161;
    --vscode-symbolIcon-operatorForeground:#616161;
    --vscode-symbolIcon-packageForeground:#616161;
    --vscode-symbolIcon-propertyForeground:#616161;
    --vscode-symbolIcon-referenceForeground:#616161;
    --vscode-symbolIcon-snippetForeground:#616161;
    --vscode-symbolIcon-stringForeground:#616161;
    --vscode-symbolIcon-structForeground:#616161;
    --vscode-symbolIcon-textForeground:#616161;
    --vscode-symbolIcon-typeParameterForeground:#616161;
    --vscode-symbolIcon-unitForeground:#616161;
    --vscode-symbolIcon-variableForeground:#007acc;
    --vscode-editor-foldBackground:rgba(173, 214, 255, 0.3);
    --vscode-editorGutter-foldingControlForeground:#424242;
    --vscode-editor-onTypeRenameBackground:rgba(255, 0, 0, 0.3);
    --vscode-editorSuggestWidget-background:#f3f3f3;
    --vscode-editorSuggestWidget-border:#c8c8c8;
    --vscode-editorSuggestWidget-foreground:#000000;
    --vscode-editorSuggestWidget-selectedBackground:#d6ebff;
    --vscode-editorSuggestWidget-highlightForeground:#0066bf;
    --vscode-editor-wordHighlightBackground:rgba(87, 87, 87, 0.25);
    --vscode-editor-wordHighlightStrongBackground:rgba(14, 99, 156, 0.25);
    --vscode-editorOverviewRuler-wordHighlightForeground:rgba(160, 160, 160, 0.8);
    --vscode-editorOverviewRuler-wordHighlightStrongForeground:rgba(192, 160, 192, 0.8);
    --vscode-peekViewTitle-background:#ffffff;
    --vscode-peekViewTitleLabel-foreground:#333333;
    --vscode-peekViewTitleDescription-foreground:rgba(97, 97, 97, 0.9);
    --vscode-peekView-border:#007acc;
    --vscode-peekViewResult-background:#f3f3f3;
    --vscode-peekViewResult-lineForeground:#646465;
    --vscode-peekViewResult-fileForeground:#1e1e1e;
    --vscode-peekViewResult-selectionBackground:rgba(51, 153, 255, 0.2);
    --vscode-peekViewResult-selectionForeground:#6c6c6c;
    --vscode-peekViewEditor-background:#f2f8fc;
    --vscode-peekViewEditorGutter-background:#f2f8fc;
    --vscode-peekViewResult-matchHighlightBackground:rgba(234, 92, 0, 0.3);
    --vscode-peekViewEditor-matchHighlightBackground:rgba(245, 216, 2, 0.87);
    --vscode-editorMarkerNavigationError-background:#e51400;
    --vscode-editorMarkerNavigationWarning-background:#e9a700;
    --vscode-editorMarkerNavigationInfo-background:#75beff;
    --vscode-editorMarkerNavigation-background:#ffffff;
    --vscode-tab-activeBackground:#ffffff;
    --vscode-tab-unfocusedActiveBackground:#ffffff;
    --vscode-tab-inactiveBackground:#ececec;
    --vscode-tab-unfocusedInactiveBackground:#ececec;
    --vscode-tab-activeForeground:#333333;
    --vscode-tab-inactiveForeground:rgba(51, 51, 51, 0.7);
    --vscode-tab-unfocusedActiveForeground:rgba(51, 51, 51, 0.7);
    --vscode-tab-unfocusedInactiveForeground:rgba(51, 51, 51, 0.35);
    --vscode-tab-activeModifiedBorder:#33aaee;
    --vscode-tab-inactiveModifiedBorder:rgba(51, 170, 238, 0.5);
    --vscode-tab-unfocusedActiveModifiedBorder:rgba(51, 170, 238, 0.7);
    --vscode-tab-unfocusedInactiveModifiedBorder:rgba(51, 170, 238, 0.25);
    --vscode-tab-border:#f3f3f3;
    --vscode-editorPane-background:#ffffff;
    --vscode-editorGroupHeader-tabsBackground:#f3f3f3;
    --vscode-editorGroupHeader-noTabsBackground:#ffffff;
    --vscode-editorGroup-border:#e7e7e7;
    --vscode-editorGroup-dropBackground:rgba(38, 119, 203, 0.18);
    --vscode-imagePreview-border:rgba(128, 128, 128, 0.35);
    --vscode-panel-background:#ffffff;
    --vscode-panel-border:rgba(128, 128, 128, 0.35);
    --vscode-panelTitle-activeForeground:#424242;
    --vscode-panelTitle-inactiveForeground:rgba(66, 66, 66, 0.75);
    --vscode-panelTitle-activeBorder:#424242;
    --vscode-panelInput-border:#dddddd;
    --vscode-panel-dropBorder:#424242;
    --vscode-panelSection-dropBackground:rgba(38, 119, 203, 0.18);
    --vscode-panelSectionHeader-background:rgba(128, 128, 128, 0.2);
    --vscode-panelSection-border:rgba(128, 128, 128, 0.35);
    --vscode-statusBar-foreground:#ffffff;
    --vscode-statusBar-noFolderForeground:#ffffff;
    --vscode-statusBar-background:#007acc;
    --vscode-statusBar-noFolderBackground:#68217a;
    --vscode-statusBarItem-activeBackground:rgba(255, 255, 255, 0.18);
    --vscode-statusBarItem-hoverBackground:rgba(255, 255, 255, 0.12);
    --vscode-statusBarItem-prominentForeground:#ffffff;
    --vscode-statusBarItem-prominentBackground:rgba(0, 0, 0, 0.5);
    --vscode-statusBarItem-prominentHoverBackground:rgba(0, 0, 0, 0.3);
    --vscode-activityBar-background:#2c2c2c;
    --vscode-activityBar-foreground:#ffffff;
    --vscode-activityBar-inactiveForeground:rgba(255, 255, 255, 0.4);
    --vscode-activityBar-activeBorder:#ffffff;
    --vscode-activityBar-dropBorder:#ffffff;
    --vscode-activityBarBadge-background:#007acc;
    --vscode-activityBarBadge-foreground:#ffffff;
    --vscode-statusBarItem-remoteBackground:#16825d;
    --vscode-statusBarItem-remoteForeground:#ffffff;
    --vscode-extensionBadge-remoteBackground:#007acc;
    --vscode-extensionBadge-remoteForeground:#ffffff;
    --vscode-sideBar-background:#f3f3f3;
    --vscode-sideBarTitle-foreground:#6f6f6f;
    --vscode-sideBar-dropBackground:rgba(38, 119, 203, 0.18);
    --vscode-sideBarSectionHeader-background:rgba(0, 0, 0, 0);
    --vscode-sideBarSectionHeader-border:rgba(97, 97, 97, 0.19);
    --vscode-titleBar-activeForeground:#333333;
    --vscode-titleBar-inactiveForeground:rgba(51, 51, 51, 0.6);
    --vscode-titleBar-activeBackground:#dddddd;
    --vscode-titleBar-inactiveBackground:rgba(221, 221, 221, 0.6);
    --vscode-menubar-selectionForeground:#333333;
    --vscode-menubar-selectionBackground:rgba(0, 0, 0, 0.1);
    --vscode-notifications-foreground:#616161;
    --vscode-notifications-background:#f3f3f3;
    --vscode-notificationLink-foreground:#006ab1;
    --vscode-notificationCenterHeader-background:#e7e7e7;
    --vscode-notifications-border:#e7e7e7;
    --vscode-notificationsErrorIcon-foreground:#e51400;
    --vscode-notificationsWarningIcon-foreground:#e9a700;
    --vscode-notificationsInfoIcon-foreground:#75beff;
    --vscode-editorGutter-commentRangeForeground:#c5c5c5;
    --vscode-editor-stackFrameHighlightBackground:rgba(255, 255, 102, 0.45);
    --vscode-editor-focusedStackFrameHighlightBackground:rgba(206, 231, 206, 0.45);
    --vscode-terminal-foreground:#333333;
    --vscode-terminal-selectionBackground:rgba(0, 0, 0, 0.25);
    --vscode-terminal-border:rgba(128, 128, 128, 0.35);
    --vscode-statusBar-debuggingBackground:#cc6633;
    --vscode-statusBar-debuggingForeground:#ffffff;
    --vscode-settings-headerForeground:#444444;
    --vscode-settings-modifiedItemIndicator:#66afe0;
    --vscode-settings-dropdownBackground:#ffffff;
    --vscode-settings-dropdownBorder:#cecece;
    --vscode-settings-dropdownListBorder:#c8c8c8;
    --vscode-settings-checkboxBackground:#ffffff;
    --vscode-settings-checkboxBorder:#cecece;
    --vscode-settings-textInputBackground:#ffffff;
    --vscode-settings-textInputForeground:#616161;
    --vscode-settings-textInputBorder:#cecece;
    --vscode-settings-numberInputBackground:#ffffff;
    --vscode-settings-numberInputForeground:#616161;
    --vscode-settings-numberInputBorder:#cecece;
    --vscode-debugExceptionWidget-border:#a31515;
    --vscode-debugExceptionWidget-background:#f1dfde;
    --vscode-editorGutter-modifiedBackground:#66afe0;
    --vscode-editorGutter-addedBackground:#81b88b;
    --vscode-editorGutter-deletedBackground:#ca4b51;
    --vscode-minimapGutter-modifiedBackground:#66afe0;
    --vscode-minimapGutter-addedBackground:#81b88b;
    --vscode-minimapGutter-deletedBackground:#ca4b51;
    --vscode-editorOverviewRuler-modifiedForeground:rgba(102, 175, 224, 0.6);
    --vscode-editorOverviewRuler-addedForeground:rgba(129, 184, 139, 0.6);
    --vscode-editorOverviewRuler-deletedForeground:rgba(202, 75, 81, 0.6);
    --vscode-searchEditor-textInputBorder:#cecece;
    --vscode-debugIcon-breakpointForeground:#e51400;
    --vscode-debugIcon-breakpointDisabledForeground:#848484;
    --vscode-debugIcon-breakpointUnverifiedForeground:#848484;
    --vscode-debugIcon-breakpointCurrentStackframeForeground:#ffcc00;
    --vscode-debugIcon-breakpointStackframeForeground:#89d185;
    --vscode-debugToolBar-background:#f3f3f3;
    --vscode-debugIcon-startForeground:#388a34;
    --vscode-debugIcon-pauseForeground:#007acc;
    --vscode-debugIcon-stopForeground:#a1260d;
    --vscode-debugIcon-disconnectForeground:#a1260d;
    --vscode-debugIcon-restartForeground:#388a34;
    --vscode-debugIcon-stepOverForeground:#007acc;
    --vscode-debugIcon-stepIntoForeground:#007acc;
    --vscode-debugIcon-stepOutForeground:#007acc;
    --vscode-debugIcon-continueForeground:#007acc;
    --vscode-debugIcon-stepBackForeground:#007acc;
    --vscode-debugTokenExpression-name:#9b46b0;
    --vscode-debugTokenExpression-value:rgba(108, 108, 108, 0.8);
    --vscode-debugTokenExpression-string:#a31515;
    --vscode-debugTokenExpression-boolean:#0000ff;
    --vscode-debugTokenExpression-number:#098658;
    --vscode-debugTokenExpression-error:#e51400;
    --vscode-debugView-exceptionLabelForeground:#ffffff;
    --vscode-debugView-exceptionLabelBackground:#a31515;
    --vscode-debugView-stateLabelForeground:#616161;
    --vscode-debugView-stateLabelBackground:rgba(136, 136, 136, 0.27);
    --vscode-debugView-valueChangedHighlight:#569cd6;
    --vscode-debugConsole-infoForeground:#75beff;
    --vscode-debugConsole-warningForeground:#e9a700;
    --vscode-debugConsole-errorForeground:#a1260d;
    --vscode-debugConsole-sourceForeground:#616161;
    --vscode-debugConsoleInputIcon-foreground:#616161;
    --vscode-extensionButton-prominentBackground:#327e36;
    --vscode-extensionButton-prominentForeground:#ffffff;
    --vscode-extensionButton-prominentHoverBackground:#28632b;
    --vscode-notebook-cellBorderColor:#dae3e9;
    --vscode-notebook-focusedEditorBorder:#0090f1;
    --vscode-notebookStatusSuccessIcon-foreground:#388a34;
    --vscode-notebookStatusErrorIcon-foreground:#a1260d;
    --vscode-notebookStatusRunningIcon-foreground:#616161;
    --vscode-notebook-outputContainerBackgroundColor:rgba(200, 221, 241, 0.31);
    --vscode-notebook-cellToolbarSeparator:rgba(128, 128, 128, 0.35);
    --vscode-notebook-focusedCellBackground:rgba(200, 221, 241, 0.31);
    --vscode-notebook-cellHoverBackground:rgba(200, 221, 241, 0.22);
    --vscode-notebook-focusedCellBorder:rgba(0, 0, 0, 0.12);
    --vscode-notebook-cellStatusBarItemHoverBackground:rgba(0, 0, 0, 0.08);
    --vscode-notebook-cellInsertionIndicator:#0090f1;
    --vscode-notebookScrollbarSlider-background:rgba(100, 100, 100, 0.4);
    --vscode-notebookScrollbarSlider-hoverBackground:rgba(100, 100, 100, 0.7);
    --vscode-notebookScrollbarSlider-activeBackground:rgba(0, 0, 0, 0.6);
    --vscode-notebook-symbolHighlightBackground:rgba(253, 255, 0, 0.2);
    --vscode-scm-providerBorder:#c8c8c8;
    --vscode-terminal-ansiBlack:#000000;
    --vscode-terminal-ansiRed:#cd3131;
    --vscode-terminal-ansiGreen:#00bc00;
    --vscode-terminal-ansiYellow:#949800;
    --vscode-terminal-ansiBlue:#0451a5;
    --vscode-terminal-ansiMagenta:#bc05bc;
    --vscode-terminal-ansiCyan:#0598bc;
    --vscode-terminal-ansiWhite:#555555;
    --vscode-terminal-ansiBrightBlack:#666666;
    --vscode-terminal-ansiBrightRed:#cd3131;
    --vscode-terminal-ansiBrightGreen:#14ce14;
    --vscode-terminal-ansiBrightYellow:#b5ba00;
    --vscode-terminal-ansiBrightBlue:#0451a5;
    --vscode-terminal-ansiBrightMagenta:#bc05bc;
    --vscode-terminal-ansiBrightCyan:#0598bc;
    --vscode-terminal-ansiBrightWhite:#a5a5a5;
    --vscode-gitDecoration-addedResourceForeground:#587c0c;
    --vscode-gitDecoration-modifiedResourceForeground:#895503;
    --vscode-gitDecoration-deletedResourceForeground:#ad0707;
    --vscode-gitDecoration-untrackedResourceForeground:#007100;
    --vscode-gitDecoration-ignoredResourceForeground:#8e8e90;
    --vscode-gitDecoration-conflictingResourceForeground:#6c6cc4;
    --vscode-gitDecoration-submoduleResourceForeground:#1258a7;
    --vscode-gitlens-gutterBackgroundColor:rgba(0, 0, 0, 0.05);
    --vscode-gitlens-gutterForegroundColor:#747474;
    --vscode-gitlens-gutterUncommittedForegroundColor:rgba(0, 188, 242, 0.6);
    --vscode-gitlens-trailingLineBackgroundColor:rgba(0, 0, 0, 0);
    --vscode-gitlens-trailingLineForegroundColor:rgba(153, 153, 153, 0.35);
    --vscode-gitlens-lineHighlightBackgroundColor:rgba(0, 188, 242, 0.2);
    --vscode-gitlens-lineHighlightOverviewRulerColor:rgba(0, 188, 242, 0.6);
    --vscode-issues-newIssueDecoration:rgba(0, 0, 0, 0.28);
}

body
{
    background-color: var(--vscode-editor-background);
    color: var(--vscode-editor-foreground);
    font-family: var(--vscode-font-family);
    font-weight: var(--vscode-font-weight);
    font-size: var(--vscode-font-size);
    margin: 0;
    padding: 0 20px;
}

img
{
    max-width: 100%;
    max-height: 100%;
}

a
{
    color: var(--vscode-textLink-foreground);
}

a:hover
{
    color: var(--vscode-textLink-activeForeground);
}

a:focus,
input:focus,
select:focus,
textarea:focus
{
    outline: 1px solid -webkit-focus-ring-color;
    outline-offset: -1px;
}

code
{
    color: var(--vscode-textPreformat-foreground);
}

blockquote
{
    background: var(--vscode-textBlockQuote-background);
    border-color: var(--vscode-textBlockQuote-border);
}

kbd
{
    color: var(--vscode-editor-foreground);
    border-radius: 3px;
    vertical-align: middle;
    padding: 1px 3px;

    background-color: hsla(0,0%,50%,.17);
    border: 1px solid rgba(71,71,71,.4);
    border-bottom-color: rgba(88,88,88,.4);
    box-shadow: inset 0 -1px 0 rgba(88,88,88,.4);
}

.vscode-light kbd
{
    background-color: hsla(0,0%,87%,.5);
    border: 1px solid hsla(0,0%,80%,.7);
    border-bottom-color: hsla(0,0%,73%,.7);
    box-shadow: inset 0 -1px 0 hsla(0,0%,73%,.7);
}

::-webkit-scrollbar
{
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-corner
{
    background-color: var(--vscode-editor-background);
}

::-webkit-scrollbar-thumb
{
    background-color: var(--vscode-scrollbarSlider-background);
}
::-webkit-scrollbar-thumb:hover
{
    background-color: var(--vscode-scrollbarSlider-hoverBackground);
}
::-webkit-scrollbar-thumb:active
{
    background-color: var(--vscode-scrollbarSlider-activeBackground);
}

.emoji
{
    height: 20px;
}

pre
{
    white-space: pre-wrap;
}

.page-break
{
    display: block;
    page-break-after: always;
}

.no-page-break
{
    page-break-inside: avoid;
}
</style>
<style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
	display: none;
}
</style>
<style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

html, body {
	font-family: var(--markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", system-ui, "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--markdown-line-height, 22px);
	word-wrap: break-word;
	overscroll-behavior-x: none;
}

body {
	padding-top: 1em;
}

/* Reset margin top for elements */
h1, h2, h3, h4, h5, h6,
p, ol, ul, pre {
	margin-top: 0;
}

h1, h2, h3, h4, h5, h6 {
	font-weight: 600;
	margin-top: 24px;
	margin-bottom: 16px;
	line-height: 1.25;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection :not(tr,ul,ol).code-active-line:before,
body.showEditorSelection :not(tr,ul,ol).code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

.vscode-high-contrast.showEditorSelection  :not(tr,ul,ol).code-line .code-line:hover:before {
	border-left: none;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

/* Prevent `sub` and `sup` elements from affecting line height */
sub,
sup {
	line-height: 0;
}

ul ul,
ul ol,
ol ul,
ol ol {
	margin-bottom: 0;
}

img, video {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

p {
	margin-bottom: 16px;
}

ul,
ol {
	margin-bottom: 0.7em;
}

hr {
	border: 0;
	height: 1px;
	border-bottom: 1px solid;
}

h1 {
	font-size: 2em;
	margin-top: 0;
	padding-bottom: 0.3em;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h2 {
	font-size: 1.5em;
	padding-bottom: 0.3em;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h3 {
	font-size: 1.25em;
}

h4 {
	font-size: 1em;
}

h5 {
	font-size: 0.875em;
}

h6 {
	font-size: 0.85em;
}

table {
	border-collapse: collapse;
	margin-bottom: 0.7em;
}

th {
	text-align: left;
	border-bottom: 1px solid;
}

th,
td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: var(--vscode-editor-font-family, "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace);
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

pre {
	background-color: var(--vscode-textCodeBlock-background);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light h2,
.vscode-light hr,
.vscode-light td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark h2,
.vscode-dark hr,
.vscode-dark td {
	border-color: rgba(255, 255, 255, 0.18);
}
</style>
<style>/*
https://raw.githubusercontent.com/isagalaev/highlight.js/master/src/styles/vs2015.css
*/
/*
 * Visual Studio 2015 dark style
 * Author: Nicolas LLOBERA <nllobera@gmail.com>
 */


.hljs-keyword,
.hljs-literal,
.hljs-symbol,
.hljs-name {
	color: #569CD6;
}
.hljs-link {
	color: #569CD6;
	text-decoration: underline;
}

.hljs-built_in,
.hljs-type {
	color: #4EC9B0;
}

.hljs-number,
.hljs-class {
	color: #B8D7A3;
}

.hljs-string,
.hljs-meta-string {
	color: #D69D85;
}

.hljs-regexp,
.hljs-template-tag {
	color: #9A5334;
}

.hljs-subst,
.hljs-function,
.hljs-title,
.hljs-params,
.hljs-formula {
	color: #DCDCDC;
}

.hljs-comment,
.hljs-quote {
	color: #57A64A;
	font-style: italic;
}

.hljs-doctag {
	color: #608B4E;
}

.hljs-meta,
.hljs-meta-keyword,
.hljs-tag {
	color: #9B9B9B;
}

.hljs-variable,
.hljs-template-variable {
	color: #BD63C5;
}

.hljs-attr,
.hljs-attribute,
.hljs-builtin-name {
	color: #9CDCFE;
}

.hljs-section {
	color: gold;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}

/*.hljs-code {
	font-family:'Monospace';
}*/

.hljs-bullet,
.hljs-selector-tag,
.hljs-selector-id,
.hljs-selector-class,
.hljs-selector-attr,
.hljs-selector-pseudo {
	color: #D7BA7D;
}

.hljs-addition {
	background-color: var(--vscode-diffEditor-insertedTextBackground, rgba(155, 185, 85, 0.2));
	color: rgb(155, 185, 85);
	display: inline-block;
	width: 100%;
}

.hljs-deletion {
	background: var(--vscode-diffEditor-removedTextBackground, rgba(255, 0, 0, 0.2));
	color: rgb(255, 0, 0);
	display: inline-block;
	width: 100%;
}


/*
From https://raw.githubusercontent.com/isagalaev/highlight.js/master/src/styles/vs.css
*/
/*

Visual Studio-like style based on original C# coloring by Jason Diamond <jason@diamond.name>

*/

.vscode-light .hljs-function,
.vscode-light .hljs-params,
.vscode-light .hljs-number,
.vscode-light .hljs-class  {
	color: inherit;
}

.vscode-light .hljs-comment,
.vscode-light .hljs-quote,
.vscode-light .hljs-number,
.vscode-light .hljs-class,
.vscode-light .hljs-variable {
	color: #008000;
}

.vscode-light .hljs-keyword,
.vscode-light .hljs-selector-tag,
.vscode-light .hljs-name,
.vscode-light .hljs-tag {
	color: #00f;
}

.vscode-light .hljs-built_in,
.vscode-light .hljs-builtin-name {
	color: #007acc;
}

.vscode-light .hljs-string,
.vscode-light .hljs-section,
.vscode-light .hljs-attribute,
.vscode-light .hljs-literal,
.vscode-light .hljs-template-tag,
.vscode-light .hljs-template-variable,
.vscode-light .hljs-type {
	color: #a31515;
}

.vscode-light .hljs-selector-attr,
.vscode-light .hljs-selector-pseudo,
.vscode-light .hljs-meta,
.vscode-light .hljs-meta-keyword {
	color: #2b91af;
}

.vscode-light .hljs-title,
.vscode-light .hljs-doctag {
	color: #808080;
}

.vscode-light .hljs-attr {
	color: #f00;
}

.vscode-light .hljs-symbol,
.vscode-light .hljs-bullet,
.vscode-light .hljs-link {
	color: #00b0e8;
}


.vscode-light .hljs-emphasis {
	font-style: italic;
}

.vscode-light .hljs-strong {
	font-weight: bold;
}
</style>
<style>@font-face{font-family:KaTeX_AMS;font-style:normal;font-weight:400;src:url(fonts/KaTeX_AMS-Regular.woff2) format("woff2"),url(fonts/KaTeX_AMS-Regular.woff) format("woff"),url(fonts/KaTeX_AMS-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Caligraphic-Bold.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Bold.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Caligraphic-Regular.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Regular.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Fraktur-Bold.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Bold.woff) format("woff"),url(fonts/KaTeX_Fraktur-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Fraktur-Regular.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Regular.woff) format("woff"),url(fonts/KaTeX_Fraktur-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Main-Bold.woff2) format("woff2"),url(fonts/KaTeX_Main-Bold.woff) format("woff"),url(fonts/KaTeX_Main-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:700;src:url(fonts/KaTeX_Main-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Main-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Main-BoldItalic.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:400;src:url(fonts/KaTeX_Main-Italic.woff2) format("woff2"),url(fonts/KaTeX_Main-Italic.woff) format("woff"),url(fonts/KaTeX_Main-Italic.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Main-Regular.woff2) format("woff2"),url(fonts/KaTeX_Main-Regular.woff) format("woff"),url(fonts/KaTeX_Main-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:700;src:url(fonts/KaTeX_Math-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Math-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Math-BoldItalic.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:400;src:url(fonts/KaTeX_Math-Italic.woff2) format("woff2"),url(fonts/KaTeX_Math-Italic.woff) format("woff"),url(fonts/KaTeX_Math-Italic.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:700;src:url(fonts/KaTeX_SansSerif-Bold.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Bold.woff) format("woff"),url(fonts/KaTeX_SansSerif-Bold.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:italic;font-weight:400;src:url(fonts/KaTeX_SansSerif-Italic.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Italic.woff) format("woff"),url(fonts/KaTeX_SansSerif-Italic.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:400;src:url(fonts/KaTeX_SansSerif-Regular.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Regular.woff) format("woff"),url(fonts/KaTeX_SansSerif-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Script;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Script-Regular.woff2) format("woff2"),url(fonts/KaTeX_Script-Regular.woff) format("woff"),url(fonts/KaTeX_Script-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size1;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size1-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size1-Regular.woff) format("woff"),url(fonts/KaTeX_Size1-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size2;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size2-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size2-Regular.woff) format("woff"),url(fonts/KaTeX_Size2-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size3;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size3-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size3-Regular.woff) format("woff"),url(fonts/KaTeX_Size3-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size4;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size4-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size4-Regular.woff) format("woff"),url(fonts/KaTeX_Size4-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Typewriter;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Typewriter-Regular.woff2) format("woff2"),url(fonts/KaTeX_Typewriter-Regular.woff) format("woff"),url(fonts/KaTeX_Typewriter-Regular.ttf) format("truetype")}.katex{text-rendering:auto;font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0}.katex *{-ms-high-contrast-adjust:none!important;border-color:currentColor}.katex .katex-version:after{content:"0.16.4"}.katex .katex-mathml{clip:rect(1px,1px,1px,1px);border:0;height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathnormal{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-style:italic;font-weight:700}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;position:relative;vertical-align:bottom}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.katex .vbox{align-items:baseline;display:inline-flex;flex-direction:column}.katex .hbox{width:100%}.katex .hbox,.katex .thinbox{display:inline-flex;flex-direction:row}.katex .thinbox{max-width:0;width:0}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{position:relative;width:0}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{border:0 solid;display:inline-block;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline{border-bottom-style:dashed;display:inline-block;width:100%}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.katex svg path{stroke:none}.katex img{border-style:none;max-height:none;max-width:none;min-height:0;min-width:0}.katex .stretchy{display:block;overflow:hidden;position:relative;width:100%}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{overflow:hidden;position:relative;width:100%}.katex .halfarrow-left{left:0;overflow:hidden;position:absolute;width:50.2%}.katex .halfarrow-right{overflow:hidden;position:absolute;right:0;width:50.2%}.katex .brace-left{left:0;overflow:hidden;position:absolute;width:25.1%}.katex .brace-center{left:25%;overflow:hidden;position:absolute;width:50%}.katex .brace-right{overflow:hidden;position:absolute;right:0;width:25.1%}.katex .x-arrow-pad{padding:0 .5em}.katex .cd-arrow-pad{padding:0 .55556em 0 .27778em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{border:.04em solid;box-sizing:border-box}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex .angl{border-right:.049em solid;border-top:.049em solid;box-sizing:border-box;margin-right:.03889em}.katex .anglpad{padding:0 .03889em}.katex .eqn-num:before{content:"(" counter(katexEqnNo) ")";counter-increment:katexEqnNo}.katex .mml-eqn-num:before{content:"(" counter(mmlEqnNo) ")";counter-increment:mmlEqnNo}.katex .mtr-glue{width:50%}.katex .cd-vert-arrow{display:inline-block;position:relative}.katex .cd-label-left{display:inline-block;position:absolute;right:calc(50% + .3em);text-align:left}.katex .cd-label-right{display:inline-block;left:calc(50% + .3em);position:absolute;text-align:right}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{padding-left:2em;text-align:left}body{counter-reset:katexEqnNo mmlEqnNo}
</style>
<style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.katex-error {
	color: var(--vscode-editorError-foreground);
}
</style>
<style>.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}</style>
<style>@font-face{font-family:KaTeX_AMS;font-style:normal;font-weight:400;src:url(fonts/KaTeX_AMS-Regular.woff2) format("woff2"),url(fonts/KaTeX_AMS-Regular.woff) format("woff"),url(fonts/KaTeX_AMS-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Caligraphic-Bold.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Bold.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Caligraphic-Regular.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Regular.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Fraktur-Bold.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Bold.woff) format("woff"),url(fonts/KaTeX_Fraktur-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Fraktur-Regular.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Regular.woff) format("woff"),url(fonts/KaTeX_Fraktur-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Main-Bold.woff2) format("woff2"),url(fonts/KaTeX_Main-Bold.woff) format("woff"),url(fonts/KaTeX_Main-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:700;src:url(fonts/KaTeX_Main-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Main-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Main-BoldItalic.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:400;src:url(fonts/KaTeX_Main-Italic.woff2) format("woff2"),url(fonts/KaTeX_Main-Italic.woff) format("woff"),url(fonts/KaTeX_Main-Italic.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Main-Regular.woff2) format("woff2"),url(fonts/KaTeX_Main-Regular.woff) format("woff"),url(fonts/KaTeX_Main-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:700;src:url(fonts/KaTeX_Math-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Math-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Math-BoldItalic.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:400;src:url(fonts/KaTeX_Math-Italic.woff2) format("woff2"),url(fonts/KaTeX_Math-Italic.woff) format("woff"),url(fonts/KaTeX_Math-Italic.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:700;src:url(fonts/KaTeX_SansSerif-Bold.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Bold.woff) format("woff"),url(fonts/KaTeX_SansSerif-Bold.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:italic;font-weight:400;src:url(fonts/KaTeX_SansSerif-Italic.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Italic.woff) format("woff"),url(fonts/KaTeX_SansSerif-Italic.ttf) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:400;src:url(fonts/KaTeX_SansSerif-Regular.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Regular.woff) format("woff"),url(fonts/KaTeX_SansSerif-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Script;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Script-Regular.woff2) format("woff2"),url(fonts/KaTeX_Script-Regular.woff) format("woff"),url(fonts/KaTeX_Script-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size1;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size1-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size1-Regular.woff) format("woff"),url(fonts/KaTeX_Size1-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size2;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size2-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size2-Regular.woff) format("woff"),url(fonts/KaTeX_Size2-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size3;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size3-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size3-Regular.woff) format("woff"),url(fonts/KaTeX_Size3-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size4;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size4-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size4-Regular.woff) format("woff"),url(fonts/KaTeX_Size4-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Typewriter;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Typewriter-Regular.woff2) format("woff2"),url(fonts/KaTeX_Typewriter-Regular.woff) format("woff"),url(fonts/KaTeX_Typewriter-Regular.ttf) format("truetype")}.katex{text-rendering:auto;font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0}.katex *{-ms-high-contrast-adjust:none!important;border-color:currentColor}.katex .katex-version:after{content:"0.16.4"}.katex .katex-mathml{clip:rect(1px,1px,1px,1px);border:0;height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathnormal{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-style:italic;font-weight:700}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;position:relative;vertical-align:bottom}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.katex .vbox{align-items:baseline;display:inline-flex;flex-direction:column}.katex .hbox{width:100%}.katex .hbox,.katex .thinbox{display:inline-flex;flex-direction:row}.katex .thinbox{max-width:0;width:0}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{position:relative;width:0}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{border:0 solid;display:inline-block;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline{border-bottom-style:dashed;display:inline-block;width:100%}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.katex svg path{stroke:none}.katex img{border-style:none;max-height:none;max-width:none;min-height:0;min-width:0}.katex .stretchy{display:block;overflow:hidden;position:relative;width:100%}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{overflow:hidden;position:relative;width:100%}.katex .halfarrow-left{left:0;overflow:hidden;position:absolute;width:50.2%}.katex .halfarrow-right{overflow:hidden;position:absolute;right:0;width:50.2%}.katex .brace-left{left:0;overflow:hidden;position:absolute;width:25.1%}.katex .brace-center{left:25%;overflow:hidden;position:absolute;width:50%}.katex .brace-right{overflow:hidden;position:absolute;right:0;width:25.1%}.katex .x-arrow-pad{padding:0 .5em}.katex .cd-arrow-pad{padding:0 .55556em 0 .27778em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{border:.04em solid;box-sizing:border-box}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex .angl{border-right:.049em solid;border-top:.049em solid;box-sizing:border-box;margin-right:.03889em}.katex .anglpad{padding:0 .03889em}.katex .eqn-num:before{content:"(" counter(katexEqnNo) ")";counter-increment:katexEqnNo}.katex .mml-eqn-num:before{content:"(" counter(mmlEqnNo) ")";counter-increment:mmlEqnNo}.katex .mtr-glue{width:50%}.katex .cd-vert-arrow{display:inline-block;position:relative}.katex .cd-label-left{display:inline-block;position:absolute;right:calc(50% + .3em);text-align:left}.katex .cd-label-right{display:inline-block;left:calc(50% + .3em);position:absolute;text-align:right}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{padding-left:2em;text-align:left}body{counter-reset:katexEqnNo mmlEqnNo}
</style>

    </head>
    <body class="vscode-body vscode-light">
        <h1 id="-20--" tabindex="-1"> 20  </h1>
<p></p>
<ul>
<li><a href="#20_1"></a></li>
<li><a href="#20_2"></a></li>
<li><a href="#20_3"><code>System.Exception</code> </a></li>
<li><a href="#20_4">FCL </a></li>
<li><a href="#20_5"></a></li>
<li><a href="#20_6"></a></li>
<li><a href="#20_7"></a></li>
<li><a href="#20_8"></a></li>
<li><a href="#20_9"></a></li>
<li><a href="#20_10"></a></li>
<li><a href="#20_11"></a></li>
<li><a href="#20_12">(CER)</a></li>
<li><a href="#20_13"></a></li>
</ul>
<p></p>
<p> CLR Microsoft  Microsoft (constraind execution region, CER)</p>
<h2 id="201-" tabindex="-1"><a name="20_1">20.1 ""</a></h2>
<p> <code>FileStream</code>  <code>StringBuilder</code> () <code>Read</code><code>Write</code><code>Flush</code><code>Append</code><code>Insert</code>  <code>Remove</code></p>
<blockquote>
<p> </p>
</blockquote>
<p></p>
<pre><code class="language-C#"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Account</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Transfer</span>(<span class="hljs-params">Account <span class="hljs-keyword">from</span>, Account to, Decimal amount</span>)</span> {
        <span class="hljs-keyword">from</span> -= amount;
        to += amount;
    }
}
</code></pre>
<p><code>Transfer</code>  <code>Account</code>  <code>Decimal</code> <code>Transfer</code> <code>Transfer</code> <code>from</code><code>to</code><code>null</code>; <code>from</code>  <code>to</code> <code>from</code> <code>to</code><code>amount</code>  <code>0</code></p>
<p><code>Transfer</code> <code>Transfer</code>  <code>void</code>  <code>Transfer</code> <sup></sup></p>
<blockquote>
<p> </p>
</blockquote>
<p></p>
<p><code>Boolean f = "Jeff".Substring(1, 1).ToUpper().EndWith("E");    // true</code></p>
<p><sup></sup>EMicrosoft .NET Framework <strong></strong></p>
<blockquote>
<p>  C# </p>
</blockquote>
<blockquote>
<p>  <code>Read</code> <code>Read</code>
 <code>Read</code>  <code>Read</code> </p>
</blockquote>
<blockquote>
<p> <code>Read</code>  <code>Read</code> </p>
</blockquote>
<h2 id="202-" tabindex="-1"><a name="20_2">20.2 </a></h2>
<p> C#  C#  C#  .NET Framework  Microsoft Windows (Structured Exception Handling, SEH) SEH  Windows ( 5 )  3  SEH</p>
<p> C#  <code>try</code><code>catch</code>  <code>finally</code> </p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SomeMethod</span>()</span> {

    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// /</span>
    }
    <span class="hljs-keyword">catch</span> (InvalidOperationException) {
        <span class="hljs-comment">//  InvalidOperationException </span>
    }
    <span class="hljs-keyword">catch</span> (IOException) {
        <span class="hljs-comment">//  IOException </span>
    }
    <span class="hljs-keyword">catch</span> {
        <span class="hljs-comment">// </span>
        ...
        <span class="hljs-comment">// </span>
        <span class="hljs-keyword">throw</span>
    }
    <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">//  try </span>
        <span class="hljs-comment">// </span>
    }
    <span class="hljs-comment">//  try  catch </span>
    <span class="hljs-comment">// </span>
    ...
}
</code></pre>
<p> <code>try</code>  <code>finally</code>  <code>try</code>  <code>finally</code>  <code>try</code>  <code>catch</code>  <code>catch</code> </p>
<h3 id="2021-try" tabindex="-1">20.2.1 <code>try</code></h3>
<p> <code>try</code>  <code>finally</code>  <code>try</code>  <code>catch</code> <code>catch</code>  <code>try</code>  <code>catch</code>  <code>finally</code>  <code>try</code>  C# </p>
<blockquote>
<p>  <code>try</code>  <code>try</code>  <code>try</code></p>
</blockquote>
<h3 id="2022-catch" tabindex="-1">20.2.2 <code>catch</code></h3>
<p><code>catch</code> <code>try</code>  0  <code>catch</code> <code>try</code> CLR  <code>catch</code>  <code>catch</code> <code>finally</code> ()<code>finally</code>  <code>finally</code> </p>
<p><code>catch</code> <strong></strong>C# <code>System.Exception</code><code>InvalidOperationException</code>()<code>IOException</code>()<code>catch</code><code>catch</code><code>catch</code><code>System.Exception</code>( <code>catch</code> )</p>
<blockquote>
<p>  Microsoft Visual Studio  <code>catch</code>  <code>$Exception</code> </p>
</blockquote>
<p>CLR  <code>catch</code> () <code>System.Exception</code>( <code>catch</code>) <code>catch</code> C#  <code>catch</code> </p>
<p> <code>try</code> ( <code>try</code> )CLR() <code>catch</code> CLR <sup></sup> <code>catch</code> </p>
<blockquote>
<p>   </p>
</blockquote>
<p> CLR  <code>catch</code>  <code>finally</code>  <code>finally</code><code>try</code><code>catch</code><code>finally</code><sup></sup> <code>catch</code>  <code>finally</code><code>finally</code><code>catch</code> </p>
<blockquote>
<p>  <code>catch</code><code>finally</code> <code>try</code>  <code>catch</code>  <code>catch</code>  </p>
</blockquote>
<p> <code>finally</code>  <code>catch</code> <code>catch</code>  <code>catch</code> </p>
<ul>
<li>
<p></p>
</li>
<li>
<p></p>
</li>
<li>
<p> <code>catch</code> <sup></sup></p>
</li>
</ul>
<blockquote>
<p> (fall out of the bottom of the catch block) <code>catch</code>  <code>finally</code>  </p>
</blockquote>
<p>CLR <code>catch</code></p>
<p> <code>catch</code>  <code>finally</code> <sup></sup>()<code>finally</code> <code>finally</code>  <code>finally</code>  <code>finally</code>  <code>catch</code> </p>
<blockquote>
<p>  <code>catch</code>  <code>finally</code>  <code>try-catch-finally</code>  <code>finally</code></p>
</blockquote>
<p>C#  <code>System.Exception</code> <code>catch</code> (<sup></sup>) <code>Exception</code> </p>
<blockquote>
<p> (stack trace) <code>stack</code>   <code>stack</code> </p>
</blockquote>
<blockquote>
<p>  <code>AppDomain</code>  <code>FirstChanceException</code>  AppDomain  CLR  <code>catch</code>  22  CLR  AppDomain</p>
</blockquote>
<h3 id="2023-finally" tabindex="-1">20.2.3 <code>finally</code></h3>
<p><code>finally</code><sup></sup> <code>finally</code> <code>try</code></p>
<blockquote>
<p> AppDomain  CLR  <code>ThreadAbortException</code> <code>finally</code>  Win32  <code>TerminateThread</code>  Win32  <code>TerminateProcess</code>  <code>System.Environment</code>  <code>FailFast</code> <code>finally</code>  Windows </p>
</blockquote>
<p> <code>try</code> <code>finally</code></p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ReadData</span>(<span class="hljs-params">String pathname</span>)</span> {
    FileStream fs = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">try</span> {
        fs = <span class="hljs-keyword">new</span> FileStream(pathname, FileMode.Open);
        <span class="hljs-comment">//  ...</span>
    }
    <span class="hljs-keyword">catch</span> (IOException) {
        <span class="hljs-comment">//  IOException </span>
    }
    <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">// </span>
        <span class="hljs-keyword">if</span> (fs != <span class="hljs-literal">null</span>) fs.Close();
    }
}
</code></pre>
<p><code>try</code><code>try</code><code>finally</code> ()</p>
<p><code>try</code>  <code>finally</code>  <code>try</code>  <code>finally</code>  <code>catch</code>  <code>try</code>  <code>finally</code> </p>
<p> <code>finally</code>  <code>finally</code> <code>finally</code>  <code>try</code> <code>catch</code>  <code>finally</code> ()</p>
<p>(<code>catch</code>)(<code>finally</code> )<code>catch</code><code>finally</code> CLR <code>finally</code>()
()CLR </p>
<p>C# (<code>try</code>)(<code>handle</code>)(<code>compensate</code>)(<code>cleanup</code>) C# </p>
<p><img src="../resources/images/20_0.png" alt="20_0"></p>
<blockquote>
<p>CLS  CLS<br>
 CLR  <code>Exception</code> (Common Language Specification, CLS)CLR  CLS  <code>String</code><code>Int32</code>  <code>DateTime</code> C#  <code>Exception</code>  <code>Exception</code> <code>Exception</code> </p>
</blockquote>
<blockquote>
<p> CLR  <code>Exception</code>  CLR  2.0  <code>catch</code>  CLS  C#  CLS  C# </p>
</blockquote>
<blockquote>
<p> CLR  2.0 Microsoft  <code>RuntimeWrappedException</code> ( <code>System.Runtime.CompilerServices</code> ) <code>Exception</code> CLS <code>RuntimeWrappedException</code>  <code>Object</code>  CLS <code>RuntimeWrappedException</code>  <code>Object</code> ( <code>RuntimeWrappedException</code>  <code>WrappedException</code> ) CLR 2.0  CLS CLR  <code>RuntimeWrappedException</code>  CLR  CLS  CLS  <code>Exception</code>  CLS </p>
</blockquote>
<blockquote>
<p> C#  <code>Exception</code>  C# 2.0 C#  CLS </p>
</blockquote>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SomeMethod</span>()</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// /</span>
    }
    <span class="hljs-keyword">catch</span> (Exception e) {
        <span class="hljs-comment">// C# 2.0  CLS </span>
        <span class="hljs-comment">//  CLS </span>
        <span class="hljs-keyword">throw</span>;   <span class="hljs-comment">// </span>
    }
    <span class="hljs-keyword">catch</span> {
        <span class="hljs-comment">//  C#  CLS </span>
        <span class="hljs-keyword">throw</span>;  <span class="hljs-comment">// </span>
    }
}
</code></pre>
<blockquote>
<p> CLR  CLS  <code>catch</code>  CLR 2.0  <code>catch</code> C#</p>
</blockquote>
<blockquote>
<p>CS1058:  catch <sup></sup> <code>System.Runtime.CompilerServices.RuntimeWrappedException</code></p>
</blockquote>
<blockquote>
<blockquote>
<p> <code>System.Excepion</code> </p>
</blockquote>
</blockquote>
<blockquote>
<p> .NET Framework 2.0  <code>catch</code>  <code>catch</code>  <code>catch</code>  <code>catch</code>  CLR  CLR  <code>catch(Exception)</code>  <code>RuntimeWrappedException</code> CLR  CLS  <code>RuntimeWrappedException</code>  <code>catch</code>  CLR  <code>RuntimeCompatibilityAttribute</code> </p>
</blockquote>
<pre><code class="language-C#"><span class="hljs-keyword">using</span> System.Runtime.CompilerServices;
[<span class="hljs-meta">assembly:RuntimeCompatibility(WrapNonExceptionThrows = false)</span>]
</code></pre>
<blockquote>
<p>( CLR )(CLR )</p>
</blockquote>
<h2 id="203-systemexception-" tabindex="-1"><a name="20_3">20.3 <code>System.Exception</code> </a></h2>
<p>CLR    <code>Int32</code>  <code>String</code> Microsoft  <code>System.Exception</code>  CLS  <code>System.Exception</code>  CLS C#  CLS </p>
<p><code>System.Exception</code>  20-1  Windows (crash dump)</p>
<p> 20-1 <code>System.Exception</code> </p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>Message</code></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>String</code></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><code>Data</code></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>IDictionary</code></td>
<td style="text-align:center">/</td>
</tr>
<tr>
<td style="text-align:center"><code>Source</code></td>
<td style="text-align:center">/</td>
<td style="text-align:center"><code>String</code></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><code>StackTrace</code></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>String</code></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><code>TargetSite</code></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>MethodBase</code></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><code>HelpLink</code></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>String</code></td>
<td style="text-align:center"> URL( file://C:\MyApp\Help.htm#MyExceptionHelp)</td>
</tr>
<tr>
<td style="text-align:center"><code>InnerException</code></td>
<td style="text-align:center"></td>
<td style="text-align:center"><code>Exception</code></td>
<td style="text-align:center"> <code>null</code><code>Exception</code><code>GetBaseException</code></td>
</tr>
<tr>
<td style="text-align:center"><code>HResult</code></td>
<td style="text-align:center">/</td>
<td style="text-align:center"><code>Int32</code></td>
<td style="text-align:center"> 32  COM API  <code>HRESULT</code> CLR  <code>Exception</code>  <code>HRESULT</code> </td>
</tr>
</tbody>
</table>
<p> <code>System.Exception</code>  <code>StackTrace</code> <code>catch</code> (stack trace) CLR  <code>Exception</code> <code>StackTrace</code>  <code>null</code> <code>null</code></p>
<p>CLR  <code>throw</code> () <code>catch</code> CLR  <code>catch</code>  <code>StackTrace</code>  CLR </p>
<blockquote>
<p> CLR CLR </p>
</blockquote>
<p> CLR </p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SomeMethod</span>()</span> {
    <span class="hljs-keyword">try</span> { ... }
    <span class="hljs-keyword">catch</span> (Exception e) {
        ...
        <span class="hljs-keyword">throw</span> e;        <span class="hljs-comment">// CLR  FxCop </span>
    }
}
</code></pre>
<p> <code>throw</code> ( <code>e</code>)CLR  CLR </p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SomeMethod</span>()</span> {
    <span class="hljs-keyword">try</span> { ... }
    <span class="hljs-keyword">catch</span> (Exception e) {
        ...
        <span class="hljs-keyword">throw</span>;    <span class="hljs-comment">//  CLR  FxCop </span>
    }
}
</code></pre>
<p> CLR Windows  Windows Error Reporting ( CLR )</p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SomeMethod</span>()</span> {
    Boolean trySucceeds = <span class="hljs-literal">false</span>;

    <span class="hljs-keyword">try</span> {
        ...
        trySucceeds = <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">finally</span> {
        <span class="hljs-keyword">if</span> (!trySucceeds) { <span class="hljs-comment">/**/</span> }
    }
}
</code></pre>
<p><code>StackTrace</code>  <code>catch</code> <sup></sup>(<code>catch</code> ) <code>System.Diagnostics.StackTrace</code> <sup></sup></p>
<blockquote>
<p>   </p>
</blockquote>
<blockquote>
<p> (stack frame) <code>StackFrame</code> </p>
</blockquote>
<p> <code>StackTrace</code>  <code>StackTrace</code>  <code>Exception</code> </p>
<p> CLR (.pdb )<code>System.Exception</code> <code>StackTrace</code>  <code>System.Diagnostics.StackTrace</code>  <code>ToString</code> </p>
<p>() JIT (inline)( C#)<code>/debug</code> JIT </p>
<blockquote>
<p> JIT  <code>System.Diagnostics.Debuggabletrribute</code> C#  <code>DisableOptimizations</code> JIT  C#  <code>/debug</code>  <code>System.Runtime.CompilerServices.MethodImplAttribute</code>  JIT (debug and release build)</p>
</blockquote>
<pre><code class="language-C#"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Runtime.CompilerServices;

<span class="hljs-keyword">internal</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SomeType</span> {
    
    [<span class="hljs-meta">MethodImpl(MethodImplOptions.NoInlining)</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SomeMethod</span>()</span> {
        ...
    }
}
</code></pre>
<h2 id="204-fcl-" tabindex="-1"><a name="20_4">20.4 FCL </a></h2>
<p>FCL ( <code>System.Exception</code> ) MSCorLib.dll  23.3.3 <code>Exception</code></p>
<pre><code class="language-C#">System.Exception
 System.AggregateException
 System.ApplicationException
 System.Reflection.InvalidFilterCriteriaException
 System.Reflection.TargetException
 System.Reflection.TargetInvocationException
 System.Reflection.TargetParameterCountException
 System.Threading.WaitHandleCannotBeOpenedException
 System.Diagnostics.Tracing.EventSourceException
 System.InvalidTimeZoneException
 System.IO.IsolatedStorage.IsolatedStorageException
 System.Threading.LockRecursionException
 System.Runtime.CompilerServices.RuntimeWrappedException
 System.SystemException
 System.Threading.AbandonedMutexException
 System.AccessViolationException
 System.Reflection.AmbiguousMatchException
 System.AppDomainUnloadedException
 System.ArgumentException
 System.ArgumentNullException
 System.ArgumentOutOfRangeException
 System.Globalization.CultureNotFoundException
 System.Text.DecoderFallbackException
 System.DuplicateWaitObjectException
 System.Text.EncoderFallbackException
 System.ArithmeticException
 System.DivideByZeroException
 System.NotFiniteNumberException
 System.OverflowException
 System.ArrayTypeMismatchException
 System.BadImageFormatException
 System.CannotUnloadAppDomainException
 System.ContextMarshalException
 System.Security.Cryptography.CryptographicException
 System.Security.Cryptography.CryptographicUnexpectedOperationException
 System.DataMisalignedException
 System.ExecutionEngineException
 System.Runtime.InteropServices.ExternalException
 System.Runtime.InteropServices.COMException
 System.Runtime.InteropServices.SEHException
 System.FormatException
 System.Reflection.CustomAttributeFormatException
 System.Security.HostProtectionException
 System.Security.Principal.IdentityNotMappedException
 System.IndexOutOfRangeException 
 System.InsufficientExecutionStackException
 System.InvalidCastException
 System.Runtime.InteropServices.InvalidComObjectException
 System.Runtime.InteropServices.InvalidOleVariantTypeException
 System.InvalidOperationException
 System.ObjectDisposedException
 System.InvalidProgramException
 System.IO.IOException
 System.IO.DirectoryNotFoundException
 System.IO.DriveNotFoundException
 System.IO.EndOfStreamException
 System.IO.FileLoadException
 System.IO.FileNotFoundException
 System.IO.PathTooLongException
 System.Collections.Generic.KeyNotFoundException
 System.Runtime.InteropServices.MarshalDirectiveException
 System.MemberAccessException
 System.FieldAccessException
 System.MethodAccessException
 System.MissingMemberException
 System.MissingFieldException
 System.MissingMethodException
 System.Resources.MissingManifestResourceException
 System.Resources.MissingSatelliteAssemblyException
 System.MulticastNotSupportedException
 System.NotImplementedException
 System.NotSupportedException
 System.PlatformNotSupportedException
 System.NullReferenceException
 System.OperationCanceledException
 System.Threading.Tasks.TaskCanceledException
 System.OutOfMemoryException
 System.InsufficientMemoryException
 System.Security.Policy.PolicyException
 System.RankException
 System.Reflection.ReflectionTypeLoadException
 System.Runtime.Remoting.RemotingException
 System.Runtime.Remoting.RemotingTimeoutException
 System.Runtime.InteropServices.SafeArrayRankMismatchException
 System.Runtime.InteropServices.SafeArrayTypeMismatchException
 System.Security.SecurityException
 System.Threading.SemaphoreFullException
 System.Runtime.Serialization.SerializationException
 System.Runtime.Remoting.ServerException
 System.StackOverflowException
 System.Threading.SynchronizationLockException
 System.Threading.ThreadAbortException
 System.Threading.ThreadInterruptedException
 System.Threading.ThreadStartException
 System.Threading.ThreadStateException
 System.TimeoutException
 System.TypeInitializationException
 System.TypeLoadException
 System.DllNotFoundException
 System.EntryPointNotFoundException
 System.TypeAccessException
 System.TypeUnloadedException
 System.UnauthorizedAccessException
 System.Security.AccessControl.PrivilegeNotHeldException
 System.Security.VerificationException
 System.Security.XmlSyntaxException
 System.Threading.Tasks.TaskSchedulerException
 System.TimeZoneNotFoundException
</code></pre>
<p>Microsoft  <code>System.Exception</code>  <code>System.SystemException</code>  <code>System.ApplicationException</code>  <code>Exception</code> CLR  <code>SystemException</code> <code>ApplicationException</code>  <code>catch</code>  CLR </p>
<p> <code>Exception</code> (<code>IsolatedStorageException</code>)CLR  <code>ApplicationException</code>  (<code>TargetInvocationException</code>) <code>SystemException</code> (<code>FormatException</code>) <code>SystemException</code>  <code>ApplicationException</code> Microsoft </p>
<h2 id="205-" tabindex="-1"><a name="20_5">20.5 </a></h2>
<p></p>
<p> <code>Exception</code>  FCL  FCL  <code>System.Exception</code> </p>
<p><sup></sup><code>System.Exception</code> <sup></sup></p>
<blockquote>
<p> <img src="../resources/images/20_00.png" alt="20_00">=  <img src="../resources/images/20_000.png" alt="20_000">=   </p>
</blockquote>
<blockquote>
<p> Microsoft  <code>System.Exception</code>  <code>abstract</code>()</p>
</blockquote>
<blockquote>
<p> </p>
</blockquote>
<p>bug bug bug </p>
<p>( FCL /)Microsoft  FCL </p>
<h2 id="206-" tabindex="-1"><a name="20_6">20.6 </a></h2>
<p>  <code>Exception</code> (serializable) AppDomain /24 <code>Exception&lt;TExceptionArgs&gt;</code></p>
<pre><code class="language-C#">[<span class="hljs-meta">Serializable</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Exception</span>&lt;<span class="hljs-title">TExceptionArgs</span>&gt; : <span class="hljs-title">Exception</span>, <span class="hljs-title">ISerializable</span> <span class="hljs-keyword">where</span> <span class="hljs-title">TExceptionArgs</span> : <span class="hljs-title">ExceptionArgs</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> String c_args = <span class="hljs-string">"Args"</span>;       <span class="hljs-comment">// ()</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> TExceptionArgs m_args;

    <span class="hljs-keyword">public</span> TExceptionArgs Args { <span class="hljs-keyword">get</span> { <span class="hljs-keyword">return</span> m_args; } }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Exception</span>(<span class="hljs-params">String message = <span class="hljs-literal">null</span>, Exception innerException = <span class="hljs-literal">null</span></span>) 
        : <span class="hljs-title">this</span>(<span class="hljs-params"><span class="hljs-literal">null</span>, message, innerException</span>)</span> { }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Exception</span>(<span class="hljs-params">TExceptionArgs args, String message = <span class="hljs-literal">null</span>, 
      Exception innerException = <span class="hljs-literal">null</span></span>) : <span class="hljs-title">base</span>(<span class="hljs-params">message, innerException</span>)</span> {
        m_args = args;
    }

    <span class="hljs-comment">// .</span>
    <span class="hljs-comment">// .</span>
    [<span class="hljs-meta">SecurityPermission(SecurityAction.LinkDemand, Flags = SecurityPermissionFlag.SerializationFormatter)</span>]
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Exception</span>(<span class="hljs-params">SerializationInfo info, StreamingContext context</span>) : <span class="hljs-title">base</span>(<span class="hljs-params">info, context</span>)</span> {
        m_args = (TExceptionArgs)info.GetValue(c_args, <span class="hljs-keyword">typeof</span>(TExceptionArgs));
    }

    <span class="hljs-comment">//  ISerializable </span>
    [<span class="hljs-meta">SecurityPermission(SecurityAction.LinkDemand, Flags = SecurityPermissionFlag.SerializationFormatter)</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">GetObjectData</span>(<span class="hljs-params">SerializationInfo info, StreamingContext context</span>)</span> {
        info.AddValue(c_args, m_args);
        <span class="hljs-keyword">base</span>.GetObjectData(info, context);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">string</span> Message {
        <span class="hljs-keyword">get</span>  {
            String baseMsg = <span class="hljs-keyword">base</span>.Message;
            <span class="hljs-keyword">return</span> (m_args == <span class="hljs-literal">null</span>) ? baseMsg : baseMsg + <span class="hljs-string">" ("</span> + m_args.Message + <span class="hljs-string">")"</span>;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> Boolean <span class="hljs-title">Equals</span>(<span class="hljs-params">Object obj</span>)</span> {
        Exception&lt;TExceptionArgs&gt; other = obj <span class="hljs-keyword">as</span> Exception&lt;TExceptionArgs&gt;;
        <span class="hljs-keyword">if</span> (other == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> Object.Equals(m_args, other.m_args) &amp;&amp; <span class="hljs-keyword">base</span>.Equals(obj);
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">int</span> <span class="hljs-title">GetHashCode</span>()</span> { <span class="hljs-keyword">return</span> <span class="hljs-keyword">base</span>.GetHashCode(); }
}
</code></pre>
<p><code>TExceptionArgs</code><code>ExceptionArgs</code></p>
<pre><code class="language-C#">[<span class="hljs-meta">Serializable</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ExceptionArgs</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> String Message { <span class="hljs-keyword">get</span> { <span class="hljs-keyword">return</span> String.Empty; } }
}
</code></pre>
<p></p>
<pre><code class="language-C#">[<span class="hljs-meta">Serializable</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DiskFullExceptionArgs</span> : <span class="hljs-title">ExceptionArgs</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> String m_diskpath;     <span class="hljs-comment">// </span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DiskFullExceptionArgs</span>(<span class="hljs-params">String diskpath</span>)</span> { m_diskpath = diskpath; }

    <span class="hljs-comment">// </span>
    <span class="hljs-keyword">public</span> String DiskPath { <span class="hljs-keyword">get</span> { <span class="hljs-keyword">return</span> m_diskpath; } }

    <span class="hljs-comment">//  Message ()</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> String Message {
        <span class="hljs-keyword">get</span> {
            <span class="hljs-keyword">return</span> (m_diskpath == <span class="hljs-literal">null</span>) ? <span class="hljs-keyword">base</span>.Message : <span class="hljs-string">"DiskPath="</span> + m_diskpath;
        }
    }
}
</code></pre>
<p></p>
<pre><code class="language-C#">[<span class="hljs-meta">Serializable</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DiskFullExceptionArgs</span> : <span class="hljs-title">ExceptionArgs</span> { }
</code></pre>
<p></p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">TestException</span>()</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception&lt;DiskFullExceptionArgs&gt;(<span class="hljs-keyword">new</span> DiskFullExceptionArgs(<span class="hljs-string">@"C:\"</span>), <span class="hljs-string">"The disk is full"</span>);
    }
    <span class="hljs-keyword">catch</span> (Exception&lt;DiskFullExceptionArgs&gt; e) {
        Console.WriteLine(e.Message);
    }
}
</code></pre>
<blockquote>
<p>  <code>Exception&lt;TExceptionArgs&gt;</code>  <code>System.Exception</code>Visual Studio  <code>Exception&lt;T&gt;</code></p>
</blockquote>
<p><img src="../resources/images/20_0_0.png" alt="20_0_0"></p>
<h2 id="207-" tabindex="-1"><a name="20_7">20.7 </a></h2>
<p> 1975  BASIC  C /?</p>
<p>( C++  <code>new</code>  <code>malloc</code><code>HeapAlloc</code><code>VirtualAlloc</code> )</p>
<p> .NET Framework  <code>OutOfMemoryException</code>  <code>catch</code>  CLR  <code>OutOfMemoryException</code></p>
<p>(composability)</p>
<p><code>Boolean f = "Jeff".Substring(1, 1).ToUpper().EndsWith("E");</code></p>
<p><sup></sup> Win32  COM  <code>true/false</code>  <code>HRESULT</code> /</p>
<blockquote>
<p> <code>try-catch-finally</code>  C#   </p>
</blockquote>
<p></p>
<ul>
<li>
<p></p>
</li>
<li>
<p></p>
</li>
<li>
<p>/</p>
</li>
<li>
<p> <code>dynamic</code> /</p>
</li>
<li>
<p></p>
</li>
<li>
<p>/()</p>
</li>
<li>
<p></p>
</li>
<li>
<p> lambda </p>
</li>
<li>
<p> lambda /<sup></sup></p>
</li>
</ul>
<blockquote>
<p> (closure)( C# )(C# )</p>
</blockquote>
<ul>
<li>
<p>//</p>
</li>
<li>
<p> LINQ </p>
</li>
</ul>
<p>CLR CLR </p>
<ul>
<li>
<p></p>
</li>
<li>
<p> JIT <code>FileLoadException</code><code>BadImageFormatException</code><code>InvalidProgramException</code><code>FieldAccessException</code><code>MethodAccessException</code><code>MissingFieldException</code><code>MissingMethodException</code>  <code>VerificationException</code></p>
</li>
<li>
<p> <code>MarshalByRefObject</code>  AppDomain ( <code>AppDomainUnloadedException</code>)</p>
</li>
<li>
<p> AppDomain </p>
</li>
<li>
<p> <code>Thread.Abort</code>  <code>AppDomain.Unload</code>  <code>ThreadAbortException</code></p>
</li>
<li>
<p> <code>Finalize</code> </p>
</li>
<li>
<p> Loader <sup></sup></p>
</li>
</ul>
<blockquote>
<p>  AppDomain  GC  Loader  Loader  22.2  22-1  </p>
</blockquote>
<ul>
<li><sup></sup>( <code>TypeInitializationException</code>)</li>
</ul>
<blockquote>
<p>  8.3   </p>
</blockquote>
<ul>
<li> <code>OutOfMemoryException</code><code>DivideByZeroException</code><code>NullReferenceException</code><code>RuntimeWrappedException</code><code>TargetInvocationException</code><code>OverflowException</code><code>NotFiniteNumberException</code><code>ArrayTypeMismatchException</code><code>DataMisalignedException</code><code>IndexOutOfRangeException</code><code>InvalidCastException</code><code>RankException</code><code>SecurityException</code></li>
</ul>
<p>.NET Framework  Web  Web  GUI  <code>catch</code> </p>
<p>CLR    .NET Framework <sup></sup>(point of failure)</p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Object <span class="hljs-title">OneStatment</span>(<span class="hljs-params">Stream stream, Char charToFind</span>)</span> {
    <span class="hljs-keyword">return</span> (charToFind + <span class="hljs-string">": "</span> + stream.GetType() + String.Empty + (strram.Position + <span class="hljs-number">512</span>M)).Where(c=&gt;c == charToFind).ToArray();
}
</code></pre>
<blockquote>
<p> Visual Studio (code snippet)</p>
</blockquote>
<p> C# C# IL ( )</p>
<pre><code class="language-C#">.<span class="hljs-function">method <span class="hljs-keyword">private</span> hidebysig <span class="hljs-keyword">static</span> <span class="hljs-built_in">object</span> <span class="hljs-title">OneStatement</span>(<span class="hljs-params">
 <span class="hljs-keyword">class</span> [mscorlib]System.IO.Stream stream, <span class="hljs-built_in">char</span> charToFind</span>) cil managed</span> {
 .maxstack <span class="hljs-number">4</span>
 .<span class="hljs-function">locals <span class="hljs-title">init</span> (<span class="hljs-params">
 [<span class="hljs-number">0</span>] <span class="hljs-keyword">class</span> Program/&lt;&gt;c__DisplayClass1 V_0,
 [<span class="hljs-number">1</span>] <span class="hljs-built_in">object</span>[] V_1</span>)
 L_0000: newobj instance <span class="hljs-keyword">void</span> Program/&lt;&gt;c__DisplayClass1::.<span class="hljs-title">ctor</span>()
 L_0005: stloc.0
 L_0006: ldloc.0
 L_0007: ldarg.1
 L_0008: stfld <span class="hljs-built_in">char</span> Program/&lt;&gt;c__DisplayClass1::charToFind
 L_000d: ldc.i4.5
 L_000e: newarr [mscorlib]System.Object
 L_0013: stloc.1
 L_0014: ldloc.1
 L_0015: ldc.i4.0
 L_0016: ldloc.0
 L_0017: ldfld <span class="hljs-built_in">char</span> Program/&lt;&gt;c__DisplayClass1::charToFind
 L_001c: box [mscorlib]System.Char
 L_0021: stelem.<span class="hljs-keyword">ref</span> 
 L_0022: ldloc.1
 L_0023: ldc.i4.1
 L_0024: ldstr ": "
 L_0029: stelem.<span class="hljs-keyword">ref</span>
 L_002a: ldloc.1
 L_002b: ldc.i4.2
 L_002c: ldarg.0
 L_002d: callvirt instance <span class="hljs-keyword">class</span> [mscorlib]System.Type [mscorlib]System.Object::<span class="hljs-title">GetType</span>()
 L_0032: stelem.<span class="hljs-keyword">ref</span>
 L_0033: ldloc.1
 L_0034: ldc.i4.3
 L_0035: ldsfld <span class="hljs-built_in">string</span> [mscorlib]System.String::Empty
 L_003a: stelem.<span class="hljs-keyword">ref</span>
 L_003b: ldloc.1
 L_003c: ldc.i4.4
 L_003d: ldc.i4 0x200
 L_0042: newobj instance <span class="hljs-keyword">void</span> [mscorlib]System.Decimal::.<span class="hljs-title">ctor</span>(<span class="hljs-params">int32</span>)
 L_0047: ldarg.0
 L_0048: callvirt instance int64 [mscorlib]System.IO.Stream::<span class="hljs-title">get_Position</span>()
 L_004d: call valuetype [mscorlib]System.Decimal
         [mscorlib]System.Decimal::<span class="hljs-title">op_Implicit</span>(<span class="hljs-params">int64</span>)
 L_0052: call valuetype [mscorlib]System.Decimal [mscorlib]System.Decimal::<span class="hljs-title">op_Addition</span>
         (<span class="hljs-params">valuetype [mscorlib]System.Decimal, valuetype [mscorlib]System.Decimal</span>)
 L_0057: box [mscorlib]System.Decimal
 L_005c: stelem.<span class="hljs-keyword">ref</span>
 L_005d: ldloc.1
 L_005e: call <span class="hljs-built_in">string</span> [mscorlib]System.String::<span class="hljs-title">Concat</span>(<span class="hljs-params"><span class="hljs-built_in">object</span>[]</span>)
 L_0063: ldloc.0
 L_0064: ldftn instance <span class="hljs-built_in">bool</span> Program/&lt;&gt;c__DisplayClass1::&lt;OneStatement&gt;<span class="hljs-title">b__0</span>(<span class="hljs-params"><span class="hljs-built_in">char</span></span>)
 L_006a: newobj instance
         <span class="hljs-keyword">void</span> [mscorlib]System.Func`2&lt;<span class="hljs-built_in">char</span>, <span class="hljs-built_in">bool</span>&gt;::.<span class="hljs-title">ctor</span>(<span class="hljs-params"><span class="hljs-built_in">object</span>, native <span class="hljs-built_in">int</span></span>)
 L_006f: call <span class="hljs-keyword">class</span> [mscorlib]System.Collections.Generic.IEnumerable`1&lt;!!0&gt;
         [System.Core]System.Linq.Enumerable::<span class="hljs-title">Where</span>&lt;<span class="hljs-title">char</span>&gt;(<span class="hljs-params">
         <span class="hljs-keyword">class</span> [mscorlib]System.Collections.Generic.IEnumerable`<span class="hljs-number">1</span>&lt;!!<span class="hljs-number">0</span>&gt;,
         <span class="hljs-keyword">class</span> [mscorlib]System.Func`<span class="hljs-number">2</span>&lt;!!<span class="hljs-number">0</span>, <span class="hljs-built_in">bool</span>&gt;</span>)
 L_0074: call !!0[] [System.Core]System.Linq.Enumerable::<span class="hljs-title">ToArray</span>&lt;<span class="hljs-title">char</span>&gt;
         (<span class="hljs-params"><span class="hljs-keyword">class</span> [mscorlib]System.Collections.Generic.IEnumerable`<span class="hljs-number">1</span>&lt;!!<span class="hljs-number">0</span>&gt;</span>)
 L_0079: ret
} 
</span></code></pre>
<p><code>&lt;&gt;c__DisplayClass1</code>()<code>Object[]</code><code>Func</code><code>char</code><code>Decimal</code><code>OutOfMemoryException</code><code>Concat</code><code>Where</code>  <code>ToArray</code> <code>Decimal</code>  <code>TypeInitializationException</code><sup></sup> <code>Decimal</code>  <code>op_Implicit</code>  <code>op_Addition</code>  <code>OverflowException</code></p>
<blockquote>
<p> <code>System.Char</code><code>System.String</code><code>System.Type</code>  <code>System.IO.Stream</code>  <code>TypeInitializationException</code></p>
</blockquote>
<p><code>Stream</code>  <code>Position</code>  <code>OneStatement</code> <code>Stream</code>  <code>MarshalByRefObject</code>  <code>stream</code>  AppDomain  AppDomain  <code>AppDomainUnloadedException</code></p>
<p> Microsoft Microsoft  <code>OneStatement</code>  <code>OneStatement</code> <code>catch</code> </p>
<p>()(<code>OutOfMemoryException</code>)</p>
<p>() <code>System.Exception</code> <code>System.Exception</code> </p>
<p> <code>Account</code>  <code>Transfer</code>  <code>Transfer</code>  <code>from</code>  <code>to</code> () <code>System.Exception</code> <code>from</code>  <code>to</code>  bug bug</p>
<p><code>Transfer</code>  <code>System.Exception</code>  <code>from</code>  <code>Transfer</code>  <code>Transfer</code>  <code>Transfer</code> (undo)</p>
<blockquote>
<p>  <code>Transfer</code>  <code>SecurityException</code>  <code>OutOfMemoryException</code>  Win32  <code>true/false</code> / Win32  <code>GetLastError</code> <code>System.Exception</code> <code>Source</code> <code>String</code> <code>Source</code>  <code>Exception</code>  <code>StackTrace</code>  <code>String</code> </p>
</blockquote>
<p></p>
<ul>
<li> <code>catch</code>  <code>finally</code> CLR  <code>Transfer</code> </li>
</ul>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Transfer</span>(<span class="hljs-params">Account <span class="hljs-keyword">from</span>, Account to, Decimal amount</span>)</span> {
    <span class="hljs-keyword">try</span> {  <span class="hljs-comment">/*  */</span> }
    <span class="hljs-keyword">finally</span> {
        <span class="hljs-keyword">from</span> -= amount;
        <span class="hljs-comment">//  Thread.Abort / AppDomain.Unload </span>
        to += amount;
    }
}
</code></pre>
<p> <code>finally</code> </p>
<ul>
<li>
<p> <code>System.Diagnostics.Contrancts.Contract</code> //()</p>
</li>
<li>
<p>(Constrained Execution RegionCER) CLR  CLR  <code>try</code>  <code>try</code>  <code>catch</code>  <code>finally</code> CLR  <code>catch</code>  <code>finally</code>  <code>catch</code>  <code>finally</code> ()( <code>FileLoadException</code><code>BadImageFormatException</code><code>InvalidProgramException</code><code>FieldAccessException</code><code>MethodAccessException</code><code>MissingFieldException</code><code>MissingMethodException</code>) <code>OutOfMemoryException</code>  CER</p>
</li>
<li>
<p>(transaction)Windows ( NTFS ).NET Framework  <code>P/Invoke</code><sup></sup> <code>System.Transactions.TransactionScope</code> </p>
</li>
</ul>
<blockquote>
<p> </p>
</blockquote>
<ul>
<li> <code>Monitor</code>/</li>
</ul>
<pre><code class="language-C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SomeType</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Object s_myLockObject = <span class="hljs-keyword">new</span> Object();

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SomeMethod</span>()</span> {
        Monitor.Enter(s_myLockObject);      <span class="hljs-comment">//  </span>
                                            <span class="hljs-comment">// </span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ...</span>
        }
        <span class="hljs-keyword">finally</span> {
            Monitor.Exit(s_myLockObject);
        }
    }
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p> <code>Monitor</code>  <code>Enter</code> </p>
<pre><code class="language-C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SomeType</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Object s_myLockObject = <span class="hljs-keyword">new</span> Object();

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SomeMethod</span>()</span> {
        Boolean lockTaken = <span class="hljs-literal">false</span>;      <span class="hljs-comment">// </span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// !</span>
            Monitor.Enter(s_myLockObject, <span class="hljs-keyword">ref</span> lockTaken);

            <span class="hljs-comment">// ...</span>
        }
        <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// </span>
            <span class="hljs-keyword">if</span> (lockTaken) Monitor.Exit(s_myLockObject);
        }
    }
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p> 30 </p>
<p> AppDomain  AppDomain  <code>AppDomain</code>  <code>Unload</code>  AppDomain 22  CLR  AppDomain</p>
<p> <code>Environment</code>  <code>FailFast</code></p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">FailFast</span>(<span class="hljs-params">String message</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">FailFast</span>(<span class="hljs-params">String message, Exception exception</span>)</span>;
</code></pre>
<p> <code>try/finally</code>  <code>Finalize</code> <code>FailFast</code>  <code>CriticalFinalizerObject</code> ( 21  ) CLR Windows <code>FailFast</code>( <code>catch</code> ) Windows Application  Windows (dump)</p>
<blockquote>
<p> Microsoft  FCL  FCL  FCL  FCL <code>FailFast</code></p>
</blockquote>
<p> CLR () Microsoft Exchange Server (native) Extensible Storage Engine Windows  <code>C:\Windows\System32\EseNT.dll</code> MSDN  Extensible Storage Engine</p>
<p>(native)</p>
<h2 id="208-" tabindex="-1"><a name="20_8">20.8 </a></h2>
<p></p>
<blockquote>
<p> ()()()</p>
</blockquote>
<blockquote>
<p>()</p>
</blockquote>
<blockquote>
<p><sup></sup></p>
</blockquote>
<blockquote>
<blockquote>
<p> </p>
</blockquote>
</blockquote>
<h3 id="2081--finally-" tabindex="-1">20.8.1  <code>finally</code> </h3>
<p><code>finally</code><code>finally</code><code>finally</code><code>finally</code><code>finally</code>()<code>finally</code></p>
<pre><code class="language-C#"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.IO;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SomeType</span> {
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SomeMethod</span>()</span> {
        FileStream fs = <span class="hljs-keyword">new</span> FileStream(<span class="hljs-string">@"C:\Data.bin"</span>, FileMode.Open);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">//  100 </span>
            Console.WriteLine(<span class="hljs-number">100</span> / fs.ReadByte());
        }
        <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">//  finally </span>
            <span class="hljs-comment">// ( 0)</span>
            fs.Close();
        }
    }
}
</code></pre>
<p> <code>lock</code><code>using</code><code>foreach</code>C#  <code>try/finally</code> (<code>Finalize</code>)C#<code>try/finally</code> <code>try</code>  <code>finally</code> </p>
<ul>
<li> <code>lock</code>  <code>finally</code> </li>
<li> <code>using</code> <code>finally</code> <code>Dispose</code> </li>
<li> <code>foreach</code>  <code>finally</code>  <code>IEnumerator</code>  <code>Dispose</code> </li>
<li><code>finally</code><code>Finalize</code></li>
</ul>
<p> C#  <code>using</code> </p>
<pre><code class="language-C#"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.IO;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SomeType</span> {
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SomeMethod</span>()</span> {
        <span class="hljs-keyword">using</span> (FileStream fs = <span class="hljs-keyword">new</span> FileStream(<span class="hljs-string">@"C:\Data.bin"</span>, FileMode.Open)) {
            <span class="hljs-comment">//  100 </span>
            Console.WriteLine(<span class="hljs-number">100</span> / fs.ReadByte());
        }
    }
}
</code></pre>
<p> <code>using</code>  21  <code>lock</code>  30 </p>
<h3 id="2082-" tabindex="-1">20.8.2 </h3>
<p> <code>catch</code>  20.7 </p>
<p></p>
<pre><code class="language-C#"><span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// ...</span>
}
<span class="hljs-keyword">catch</span> (Exception) {
    ...
}
</code></pre>
<p><sup></sup></p>
<blockquote>
<p>swallowbury </p>
</blockquote>
<p>CLR </p>
<blockquote>
<p>  <code>System.Environment</code>  <code>FailFast</code> </p>
</blockquote>
<p> <code>catch</code> <code>System.Exception</code><code>catch</code><code>System.Exception</code>Visual Studio (FxCopCmd.exe) <code>catch(Exception)</code>  <code>throw</code>  20.8.4 </p>
<p>( 28 I/O )CLR  <code>EndXXX</code> <code>EndXXX</code> <code>EndXXX</code> </p>
<h3 id="2083-" tabindex="-1">20.8.3 </h3>
<p></p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">CalculateSpreadsheetCell</span>(<span class="hljs-params">Int32 row, Int32 column</span>)</span> {
    String result;
    <span class="hljs-keyword">try</span> {
        result = <span class="hljs-comment">/*  */</span>
    }
    <span class="hljs-keyword">catch</span>(DivideByZeroException) {  <span class="hljs-comment">// </span>
        result = <span class="hljs-string">"Can't show value: Divide by zero"</span>;
    }
    <span class="hljs-keyword">catch</span> (OverflowException) {     <span class="hljs-comment">//  </span>
        result = <span class="hljs-string">"Can't show value: Too big"</span>;
    }
    <span class="hljs-keyword">return</span> result;
}
</code></pre>
<p> 0 CLR  <code>DivideByZeroException</code> CLR  <code>OverflowException</code> </p>
<p> <code>System.Exception</code>() <code>try</code> <code>try</code> <code>OutOfMemoryException</code>  <code>StackOverflowException</code> </p>
<h3 id="2084-" tabindex="-1">20.8.4 </h3>
<p> 10 (<code>Serializable</code>)(object graph)<sup></sup></p>
<blockquote>
<p> object graph  object diagram  object graph   </p>
</blockquote>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SerializeObjectGraph</span>(<span class="hljs-params">FileStream fs, IFormatter formatter, Object rootObj</span>)</span> {

    <span class="hljs-comment">// </span>
    Int64 beforeSerialization = fs.Position;

    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// </span>
        formatter.Serialize(fs, rootObj);
    }
    <span class="hljs-keyword">catch</span> {   <span class="hljs-comment">// </span>
        <span class="hljs-comment">// </span>
        fs.Position = beforeSerialization;

        <span class="hljs-comment">// </span>
        fs.SetLength(fs.Position);

        <span class="hljs-comment">//   finally </span>
        <span class="hljs-comment">// </span>

        <span class="hljs-comment">// </span>
        <span class="hljs-keyword">throw</span>;
    }
}
</code></pre>
<p>()C# C#  <code>throw</code>  <code>throw</code> </p>
<p><code>catch</code> <code>catch</code>  C#  <code>throw</code> </p>
<h3 id="2085-" tabindex="-1">20.8.5 </h3>
<p>(conract)() <code>PhoneBook</code> </p>
<pre><code class="language-C#"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PhoneBook</span> {
    <span class="hljs-keyword">private</span> String m_pathname;      <span class="hljs-comment">// </span>

    <span class="hljs-comment">// </span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">GetPhoneNumber</span>(<span class="hljs-params">String name</span>)</span> {
        String phone;
        FileStream fs;
        <span class="hljs-keyword">try</span> {
            fs = <span class="hljs-keyword">new</span> FileStream(m_pathname, FileMode.Open);
            <span class="hljs-comment">//  fs  name</span>
            phone = <span class="hljs-comment">/*  */</span>
        }
        <span class="hljs-keyword">catch</span> (FileNotFoundException e) {
            <span class="hljs-comment">//  name </span>
            <span class="hljs-comment">// </span>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NameNotFindException(name, e);
        }
        <span class="hljs-keyword">catch</span> (IOException e)  {
            <span class="hljs-comment">//  name </span>
            <span class="hljs-comment">// </span>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NameNotFindException(name, e);
        }
        <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (fs != <span class="hljs-literal">null</span>) fs.Close();
        }
        <span class="hljs-keyword">return</span> phone;                
    }
}
</code></pre>
<p>() <code>PhoneBook</code>  <code>FileNotFoundException</code>  <code>IOException</code> ()<sup></sup><code>GetPhoneNumber</code> <code>NameNotFoundException</code> </p>
<blockquote>
<p>  <code>PhoneBook</code>  <code>GetPhoneNumber</code>   </p>
</blockquote>
<p></p>
<p> <code>NameNotFoundException</code> <code>FileNotFoundException</code>  <code>IOException</code>  <code>PhoneBook</code>  <code>PhoneBook</code> </p>
<blockquote>
<p> <code>FileNotFoundException</code> <code>StackTrace</code> <code>FileStream</code> <code>NameNotFoundException</code>  <code>catch</code> </p>
</blockquote>
<p> <code>PhoneBook</code>  <code>PhoneBookPathname</code> <code>GetPhoneNumber</code> ()<code>GetPhoneNumber</code><code>PhoneBook</code><code>PhoneBook</code></p>
<p> <code>Data</code>(/)</p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SomeMethod</span>(<span class="hljs-params">String filename</span>)</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// ...</span>
    }
    <span class="hljs-keyword">catch</span> (IOException e) {
        <span class="hljs-comment">//  IOException </span>
        e.Data.Add(<span class="hljs-string">"Filename"</span>, filename);

        <span class="hljs-keyword">throw</span>;  <span class="hljs-comment">// </span>
    }
}
</code></pre>
<p>CLR <code>TypeInitializationException</code> CLR <sup></sup> <code>DivideByZeroException</code>CLR  <code>DivideByZeroException</code>  <code>TypeInitializationException</code></p>
<blockquote>
<p>  8.3 </p>
</blockquote>
<p>CLR  <code>TargetInvocationException</code><code>TargetInvocationException</code><code>InnerException</code></p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Reflection</span>(<span class="hljs-params">Object o</span>)</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">//  DoSomething </span>
        <span class="hljs-keyword">var</span> mi = o.GetType().GetMethod(<span class="hljs-string">"DoSomething"</span>);
        mi.Invoke(o, <span class="hljs-literal">null</span>);   <span class="hljs-comment">// DoSomething  </span>
    }
    <span class="hljs-keyword">catch</span> (System.Reflection.TargetInvocationException e) {
        <span class="hljs-comment">// CLR  TargetInvocationException</span>
        <span class="hljs-keyword">throw</span> e.InnerException;     <span class="hljs-comment">// </span>
    }
}
</code></pre>
<p> C#  <code>dynamic</code> ( 5.5  <code>dynamic</code> )<code>TargetInvocationException</code> C#  <code>dynamic</code> </p>
<h2 id="209-" tabindex="-1"><a name="20_9">20.9 </a></h2>
<p>CLR <code>catch</code><code>catch</code><strong></strong>CLR bug bug  bug</p>
<p>Microsoft  CLR Windows Windows-&gt; 20-1 </p>
<p><img src="../resources/images/20_1.png" alt="20_1"></p>
<p> 20-1 Windows </p>
<p>Windows  20-2 </p>
<p><img src="../resources/images/20_2.png" alt="20_2"></p>
<p> 20-2  </p>
<p> 20-3  20-2  CLR20r3 (bucket)</p>
<p><img src="../resources/images/20_3.png" alt="20_3"></p>
<p> 20-3 </p>
<p> 20-2 </p>
<p>||<sup>*</sup>|
|01|EXE (32)|
|02|EXE |
|03|EXE |
|04|EXE ( 64 )|
|05||
|06||
|07| MethodDef ( 0x06 ) ILDasm.exe |
|08| IL  IL  ILDasm.exe |
|09|( 32 )|</p>
<blockquote>
<p>* Exception.dllCLR  base-64 </p>
</blockquote>
<p>Windows  Microsoft <sup></sup>Windows (Windows Error Reporting) Windows Quality (<em>http://WinQual.Microsoft.com</em>)</p>
<blockquote>
<p>  P/Invoke  Win32  <code>SetErrorMode</code> <code>SEM_NOGPFAULTERRORBOX</code></p>
</blockquote>
<p> Microsoft  VeriSign ID( Software Publisher Digital ID for Authenticode)</p>
<p>bug CLR </p>
<p>Microsoft </p>
<ul>
<li>
<p> <code>System.AppDomain</code>  <code>UnhandledException</code> Windows Store  Microsoft Silverlight </p>
</li>
<li>
<p> Windows Store  <code>Windows.UI.Xaml.Applocation</code> <code>UnhandledException</code></p>
</li>
<li>
<p> Windows  <code>System.Windows.Forms.NativeWindow</code>  <code>OnThreadException</code> <code>System.Windows.Forms.Application</code><code>OnThreadException</code><code>System.Windows.Forms.Application</code>  <code>ThreadException</code> </p>
</li>
<li>
<p> <code>Windows Presentation Foundation(WPF)</code> <code>System.Windows.Application</code>  <code>DispatcherUnhandledException</code>  <code>System.Windows.Threading.Dispatcher</code>  <code>UnhandledException</code>  <code>UnhandledExceptionFilter</code></p>
</li>
<li>
<p> <code>Silverlight</code> <code>System.Windows.Application</code>  <code>UnhandledException</code> </p>
</li>
<li>
<p> ASP.NET Web  <code>System.Web.UI.TemplateControl</code>  <code>Error</code> <code>TemplateControl</code> <code>System.Web.UI.Page</code>  <code>System.Web.UI.UserControl</code>  <code>System.Web.HttpApplication</code>  <code>Error</code> </p>
</li>
<li>
<p> Windows Communication Foundation  <code>System.ServiceModel.Dispatcher.ChannelDispatcher</code>  <code>ErrorHandlers</code> </p>
</li>
</ul>
<p>( Web  Web )( Microsoft SQL Server)</p>
<p></p>
<blockquote>
<p> CLR (native code)(corrupted state exceptions, CSE) CLR  bug  bug CLR <code>finally</code>  Win32  CSE</p>
</blockquote>
<pre><code class="language-C#">EXCEPTION_ACCESS_VIOLATION EXCEPTION_STACK_OVERFLOW
EXCEPTION_ILLEGAL_INSTRUCTION EXCEPTION_IN_PAGE_ERROR
EXCEPTION_INVALID_DISPOSITION EXCEPTION_NONCONTINUABLE_EXCEPTION
EXCEPTION_PRIV_INSTRUCTION STATUS_UNWIND_CONSOLIDATE.
</code></pre>
<blockquote>
<p><code>System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute</code> <code>System.Security.SecurityCriticalAttribute</code> XML  <code>legacyCorruptedStateExceptionPolicy</code>  <code>true</code>CLR  <code>System.Runtime.InteropServices.SEHException</code> <code>EXCEPTION_ACCESS_VIOLATION</code>  <code>System.AccessViolationException</code><code>EXCEPTION_STACK_OVERFLOW</code>  <code>System.StackOverflowException</code></p>
</blockquote>
<blockquote>
<p>  <code>RuntimeHelper</code>  <code>EnsureSufficientExecutionStack</code> ()<code>InsufficientExecutionStackException</code><code>EnsureSufficientExecutionStack</code>  <code>void</code> </p>
</blockquote>
<h2 id="2010-" tabindex="-1"><a name="20_10">20.10 </a></h2>
<p>Visual Studio  20-4 </p>
<p><img src="../resources/images/20_4.png" alt="20_4"></p>
<p> 20-4 </p>
<p> Visual Studio  Common Language Runtime Exceptions Visual Studio  20-5 </p>
<p><img src="../resources/images/20_5.png" alt="20_5"></p>
<p> 20-5  CLR </p>
<p> <code>System.Exception</code>  20-6  <code>System</code> CLR </p>
<p><img src="../resources/images/20_6.png" alt="20_6"></p>
<p> 20-6 <code>System</code>  CLR </p>
<p>CLR  <code>catch</code> </p>
<p></p>
<p> 20-7 </p>
<p><img src="../resources/images/20_7.png" alt="20_7"></p>
<p> 20-7  Visual Studio </p>
<p> <code>Common Language Runtime Exceptions</code><code>System.Exception</code>  CLS </p>
<p><code>Exception</code>  Visual Studio </p>
<h2 id="2011-" tabindex="-1"><a name="20_11">20.11 </a></h2>
<p> <code>true/false</code> / <code>enum</code> <sup></sup>CLR </p>
<blockquote>
<p>  </p>
</blockquote>
<p>(<code>HRESULT</code>  )</p>
<p> C++ (bookkeeping)</p>
<p>C++</p>
<p> CPU <sup></sup></p>
<blockquote>
<p>  exception handler </p>
</blockquote>
<p> .NET Framework  x86 JIT  x64  ARM  CLR ( Microsoft  .NET Compact Framework  Mono ) JIT </p>
<p> Microsoft  JIT </p>
<p> Windows   20-8  .NET Framework </p>
<p><img src="../resources/images/20_8.png" alt="20_8"></p>
<p> 20-8   .NET CLR Exceptions </p>
<p>Microsoft  <code>Int32</code>  <code>Parse</code>  <code>Parse</code> </p>
<p>Microsoft  <code>Int32</code>  <code>TryParse</code></p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Boolean <span class="hljs-title">TryParse</span>(<span class="hljs-params">String s, <span class="hljs-keyword">out</span> Int32 result</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Boolean <span class="hljs-title">TryParse</span>(<span class="hljs-params">String s, NumberStyles style, IFormatProvider provider, <span class="hljs-keyword">out</span> Int32 result</span>)</span>;
</code></pre>
<p> <code>Boolean</code> <code>String</code>  <code>Int32</code> <code>result</code> <code>true</code><code>result</code>  32  <code>false</code><code>result</code> <code>0</code><code>result</code></p>
<p><code>TryXxx</code>  <code>Boolean</code>  <code>false</code><code>style</code><code>Int32</code>  <code>TryParse</code>  <code>ArgumentException</code>  <code>TryParse</code>  <code>OutMemoryException</code> </p>
<p></p>
<p> <code>TryXXX</code>  <code>TryXXX</code>  <code>TryXXX</code> </p>
<h2 id="2012-cer" tabindex="-1"><a name="20_12">20.12 (CER)</a></h2>
<p> Notepad.exe()  Calc.exe() Microsoft Office ( WinWord.exeExcel.exe  Outlook.exe)( Web )( SQL Server)</p>
<p> CLR  AppDomain( 22 )AppDomain  AppDomain  AppDomain()<sup></sup></p>
<blockquote>
<p>  AppDomain ( ASP.NET  SQL Server ) AppDomain </p>
</blockquote>
<p>CER  AppDomain  CER  AppDomain CER <strong></strong>CLR  AppDomain  Loader  IL  JIT CLR </p>
<p> <code>catch</code>  <code>finally</code> </p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Demo1</span>()</span> {
    <span class="hljs-keyword">try</span> {
        Console.WriteLine(<span class="hljs-string">"In try"</span>);
    }
    <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">//  Type1 </span>
        Type1.M();
    }
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Type1</span> {
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-title">Type1</span>()</span> {
        <span class="hljs-comment">// M </span>
        Console.WriteLine(<span class="hljs-string">"Type1's static ctor called"</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">M</span>()</span> { }
}
</code></pre>
<p></p>
<pre><code class="language-cmd"><span class="hljs-keyword">In</span> try
Type1's static ctor called
</code></pre>
<p>()<sup></sup> <code>catch</code>  <code>finally</code> <code>try</code></p>
<blockquote>
<p>     <code>WillNotCorruptState</code>  <code>MayCorruptInstance</code>   </p>
</blockquote>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Demo2</span>()</span> {
    <span class="hljs-comment">//  finally </span>
    RuntimeHelpers.PrepareConstrainedRegions();    <span class="hljs-comment">// System.Runtime.CompilerServices </span>
    <span class="hljs-keyword">try</span> {
        Console.WriteLine(<span class="hljs-string">"In try"</span>);
    }
    <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">//  Type2 </span>
        Type2.M();
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Type2</span> {
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-title">Type2</span>()</span> {
        Console.WriteLine(<span class="hljs-string">"Type2's static ctor called"</span>);
    }

    <span class="hljs-comment">//  System.Runtime.ConstrainedExecution </span>
    [<span class="hljs-meta">ReliabilityContract(Consistency.WillNotCorruptState, Cer.Success</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">M</span>()</span> { }
}
</code></pre>
<p></p>
<pre><code class="language-cmd">Type2's static ctor called
<span class="hljs-keyword">In</span> try
</code></pre>
<p><code>PrepareConstrainedRegions</code> JIT  <code>try</code> <code>try</code> <code>catch</code><code>finally</code>JIT  JIT  <code>try</code> <strong></strong></p>
<p>JIT  <code>ReliabilityContractAttribute</code><code>Consistency.WillNotCorruptState</code>  <code>Consistency.MayCorruptInstance</code>  AppDomain CLR  <code>PrepareConstrainedRegions</code>  <code>catch</code> <code>finally</code>  <code>ReliabilityContractAttribute</code> </p>
<p><code>ReliabilityContractAttribute</code></p>
<pre><code class="language-C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ReliabilityContractAttribute</span> : <span class="hljs-title">Attribute</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ReliabilityContractAttribute</span>(<span class="hljs-params">Consistency consistencyGuarantee, Cer cer</span>)</span>;
    <span class="hljs-keyword">public</span> Cer Cer { <span class="hljs-keyword">get</span>; }
    <span class="hljs-keyword">public</span> Consistency ConsistencyGuarantee { <span class="hljs-keyword">get</span>; }
}
</code></pre>
<p><sup></sup>(reliability contract)<code>Cer</code>  <code>Consistency</code> </p>
<blockquote>
<p> </p>
</blockquote>
<pre><code class="language-C#"><span class="hljs-built_in">enum</span> Consistency {
    MayCorruptProcess, MayCorruptAppDomain, MayCorruptInstance, WillNotCorruptState
}

<span class="hljs-built_in">enum</span> Cer { None, MayFail, Success }
</code></pre>
<p> <code>Consistency.WillNotCorruptState</code> <code>Cer.Success</code> <code>Cer.MayFail</code> <code>ReliabilityContractAttribute</code> </p>
<p><code>[ReliabilityContract(Consistency.MayCorruptProcess, Cer.None]</code></p>
<p><code>Cer.None</code>  CER  CER CLR  JIT </p>
<p>() JIT  <code>RuntimeHelper</code></p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PrepareMethod</span>(<span class="hljs-params">RuntimeMethodHandle method</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PrepareMethod</span>(<span class="hljs-params">RuntimeMethodHandle method, RuntimeTypeHandle[] instantiation</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PrepareDelegate</span>(<span class="hljs-params">Delegate d</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PrepareContractedDelegate</span>(<span class="hljs-params">Delegate d</span>)</span>;
</code></pre>
<p> CLR  <code>ReliabilityContractAttribute</code> </p>
<blockquote>
<p>  <code>StackOverflowException</code> CLR <code>StackOverflowException</code> CLR  <code>Environment.FailFast</code> <code>PrepareConstrainedRegions</code>  48 KB<code>try</code>  <code>StackOverflowException</code></p>
</blockquote>
<p> <code>RuntimeHelper</code>  <code>ExecuteCodeWithGuaranteedCleanup</code> </p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ExecuteCodeWithGuaranteedCleanup</span>(<span class="hljs-params">TryCode code, CleanupCode backoutCode, Object userData</span>)</span>;
</code></pre>
<p> <code>try</code>  <code>finally</code> </p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">delegate</span> <span class="hljs-keyword">void</span> <span class="hljs-title">TryCode</span>(<span class="hljs-params">Object userData</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">delegate</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CleanupCode</span>(<span class="hljs-params">Object userData, Boolean exceptionThrown</span>)</span>;
</code></pre>
<p> <code>CriticalFinalizerObject</code>  21 ""</p>
<h2 id="2013-" tabindex="-1"><a name="20_13">20.13 </a></h2>
<p><strong></strong>(code contract)</p>
<ul>
<li>
<p><strong></strong><br>
</p>
</li>
<li>
<p><strong></strong><br>
</p>
</li>
<li>
<p><strong>(Object Invariant)</strong><br>
</p>
</li>
</ul>
<p><sup></sup></p>
<blockquote>
<p>  Microsoft Research  Pex  <em>http://research.microsoft.com/en-us/projects/pex/</em></p>
</blockquote>
<p> <code>System.Diagnostics.Contracts.Contract</code> :</p>
<pre><code class="language-C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Contract</span> {
    <span class="hljs-comment">// [Conditional("CONTRACTS_FULL")]</span>
	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Requires</span>(<span class="hljs-params">Boolean condition</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">EndContractBlock</span>()</span>;

    <span class="hljs-comment">// Always</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Requires</span>&lt;<span class="hljs-title">TException</span>&gt;(<span class="hljs-params">Boolean condition</span>) <span class="hljs-keyword">where</span> TException : Exception</span>;

    <span class="hljs-comment">// [Conditional("CONTRACTS_FULL")]</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Ensures</span>(<span class="hljs-params">Boolean condition</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">EnsuresOnThrow</span>&lt;<span class="hljs-title">TException</span>&gt;(<span class="hljs-params">Boolean condition</span>) <span class="hljs-keyword">where</span> TException : Exception</span>;

    <span class="hljs-comment">// Always</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> T <span class="hljs-title">Result</span>&lt;<span class="hljs-title">T</span>&gt;()</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> T <span class="hljs-title">OldValue</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T <span class="hljs-keyword">value</span></span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> T <span class="hljs-title">ValueAtReturn</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">out</span> T <span class="hljs-keyword">value</span></span>)</span>;

    <span class="hljs-comment">//  [Conditional("CONTRACTS_FULL")]</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Invariant</span>(<span class="hljs-params">Boolean condition</span>)</span>;

    <span class="hljs-comment">// (Quantifier)Always</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Boolean <span class="hljs-title">Exists</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">IEnumerable&lt;T&gt; collection, Predicate&lt;T&gt; predicate</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Boolean <span class="hljs-title">Exists</span>(<span class="hljs-params">Int32 fromInclusive, Int32 toExclusive, Predicate&lt;Int32&gt; predicate</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Boolean <span class="hljs-title">ForAll</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">IEnumerable&lt;T&gt; collection, Predicate&lt;T&gt; predicate</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Boolean <span class="hljs-title">ForAll</span>(<span class="hljs-params">Int32 fromInclusive, Int32 toExclusive, Predicate&lt;Int32&gt; predicate</span>)</span>;
    <span class="hljs-comment">// (Helper)[Conditional("CONTRACTS_FULL")]  [Conditional("DEBUG")]</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Assert</span>(<span class="hljs-params">Boolean condition</span>)</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Assume</span>(<span class="hljs-params">Boolean condition</span>)</span>;

    <span class="hljs-comment">// (Infrastructure)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">event</span> EventHandler&lt;ContractFailedEventArgs&gt; ContractFailed;
}
</code></pre>
<p><code>[Conditional("CONTRACTS_FULL")]</code><code>[Conditional("DEBUG")]</code>Always<code>Requires</code><code>Requires&lt;TException&gt;</code><code>Ensures</code><code>EnsuresOnThrow</code><code>Invariant</code><code>Assert</code>  <code>Assume</code> () <code>String</code> </p>
<p> <code>CONTRACTS_FULL</code>  Visual Studio  <code>http://msdn.microsoft.com/en-us/devlabs/dd491992.aspx</code>Visual Studio Visual Studio  20-9 </p>
<p><img src="../resources/images/20_9.png" alt="20_9"><br>
 20-9  Visual Studio  Code Contracts </p>
<p> Perform Runtime Contract Checking Full <code>CONTRACTS_FULL</code> ()<code>Contract</code><code>ContractFailed</code> <code>ContractFailedEventArgs</code> </p>
<pre><code class="language-C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ContractFailedEventArgs</span> : <span class="hljs-title">EventArgs</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ContractFailedEventArgs</span>(<span class="hljs-params">ContractFailureKind failureKind, String message, String condition, Exception originalException</span>)</span>;

    <span class="hljs-keyword">public</span> ContractFailureKind FailureKind { <span class="hljs-keyword">get</span>; }
    <span class="hljs-keyword">public</span> String Message                  { <span class="hljs-keyword">get</span>; }
    <span class="hljs-keyword">public</span> String Condition                { <span class="hljs-keyword">get</span>; }
    <span class="hljs-keyword">public</span> Exception OriginalException     { <span class="hljs-keyword">get</span>; }

    <span class="hljs-keyword">public</span> Boolean Handle { <span class="hljs-keyword">get</span>; }  <span class="hljs-comment">//  SetHandled true</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetHandled</span>()</span>;       <span class="hljs-comment">//  Handled  true</span>

    <span class="hljs-keyword">public</span> Boolean Unwind { <span class="hljs-keyword">get</span>; }  <span class="hljs-comment">//  SetUnwind  true</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetUnwind</span>()</span>;        <span class="hljs-comment">//  ContractException;  Unwind  true</span>
}
</code></pre>
<p>(<code>SetHandled</code>) <code>SetHandled</code> <code>SetUnwind</code> <code>SetUnwind</code> <code>System.Diagnostics.Contracts.ContractException</code> MSCorLib.dll  <code>catch</code>  <code>ContractException</code></p>
<p> <code>SetHandled</code><code>SetUnwind</code>  CLR  CLR () <code>Environment.FailFast</code>  Assert On Contract  <code>ContractException</code></p>
<p></p>
<pre><code class="language-C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Item</span> { <span class="hljs-comment">/* ... */</span> }

<span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ShoppingCart</span> {
    <span class="hljs-keyword">private</span> List&lt;Item&gt; m_cart = <span class="hljs-keyword">new</span> List&lt;Item&gt;();
    <span class="hljs-keyword">private</span> Decimal m_totalCost = <span class="hljs-number">0</span>;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ShoppingCart</span>()</span>{
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddItem</span>(<span class="hljs-params">Item item</span>)</span> {
        AddItemHelper(m_cart, item, <span class="hljs-keyword">ref</span> m_totalCost);
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddItemHelper</span>(<span class="hljs-params">List&lt;Item&gt; m_cart, Item newItem, <span class="hljs-keyword">ref</span> Decimal totalCost</span>)</span> {

        <span class="hljs-comment">// </span>
        Contract.Requires(newItem != <span class="hljs-literal">null</span>);
        Contract.Requires(Contract.ForAll(m_cart, s =&gt; s != newItem));

        <span class="hljs-comment">// </span>
        Contract.Ensures(Contract.Exists(m_cart, s =&gt; s == newItem));
        Contract.Ensures(totalCost &gt;= Contract.OldValue(totalCost));
        Contract.EnsuresOnThrow&lt;IOException&gt;(totalCost == Contract.OldValue(totalCost));

        <span class="hljs-comment">// ( IOException)...</span>
        m_cart.Add(newItem);
        totalCost += <span class="hljs-number">1.00</span>M;
    }

    <span class="hljs-comment">// </span>
    [<span class="hljs-meta">ContractInvariantMethod</span>]
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ObjectInvariant</span>()</span> {
        Contract.Invariant(m_totalCost &gt;= <span class="hljs-number">0</span>);
    }
}
</code></pre>
<p><code>AddItemHelper</code><code>newItem</code><code>null</code> <code>AddItemHelper</code> <code>IOException</code><code>totalCost</code> <code>ObjectInvariant</code><code>m_totalCost</code></p>
<blockquote>
<p> ()</p>
</blockquote>
<blockquote>
<p> </p>
</blockquote>
<p><code>Contract.Requires(true);</code></p>
<blockquote>
<p>()//// AND</p>
</blockquote>
<p>C# Code Contract Rewriter  <code>C:\Program Files(x86)\Microsoft\Contracts\Bin</code> Perform Runtime Contract Checking Visual Studio  IL IL CCRewrite.exe  IL </p>
<p>CCRewrite.exe  <code>[ContractInvariantMethod]</code><code>ObjectInvariant</code> <code>private</code>() <code>void</code>CCRewrite.exe  <code>ObjectInvariant</code> () <code>ObjectInvariant</code>  IL CCRewrite.exe  <code>Finalize</code> <code>IDisposable</code><code>Dispose</code> <code>ObjectInvariant</code> (destroy)(dispose)<code>[ContractInvariantMethod]</code> CCRewrite.exe  IL()</p>
<p><code>Assert</code>  <code>Assume</code> <code>true</code> <code>true</code> Code Contract Checker(CCCheck.exe) C#  IL<code>Assert</code> <code>true</code> <code>Assume</code>  <code>true</code> <code>true</code>  <code>Assert</code> CCCheck.exe  <code>true</code>  <code>Assert</code>  <code>Assume</code></p>
<p></p>
<pre><code class="language-C#"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SomeType</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String s_name = <span class="hljs-string">"Jeffrey"</span>;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ShowFirstLetter</span>()</span> {
        Console.WriteLine(s_name[<span class="hljs-number">0</span>]);           <span class="hljs-comment">//  requires unproven index &lt; this.Length</span>
    }
}
</code></pre>
<p> Perform Static Contract Checking  CCCheck.exe  <code>s_name</code>  <code>s_name</code> </p>
<p> <code>ShowFirstLetter</code> </p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ShowFirstLetter</span>()</span> {
    Contract.Assert(s_name.Length &gt;= <span class="hljs-number">1</span>);    <span class="hljs-comment">// warning: assert unproven</span>
    Console.WriteLine(s_name[<span class="hljs-number">0</span>]);
}
</code></pre>
<p> CCCheck.exe  <code>s_name</code> </p>
<p> <code>Assert</code>  <code>Assume</code> <code>s_name</code> <code>ShowFirstLetter</code>:</p>
<pre><code class="language-C#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ShowFirstLetter</span>()</span> {
    Contract.Assume(s_name.Length &gt;= <span class="hljs-number">1</span>);            <span class="hljs-comment">// </span>
    Console.WriteLine(s_name[<span class="hljs-number">0</span>]);
}
</code></pre>
<p>CCCheck.exe  <code>s_name</code>  <code>ShowFirstLetter</code> (CCCheck.exe)</p>
<p> Code Contract Reference Assembly Generator (CCRefGen.exe) CCRewrite.exe  bug CCRefGen.exe  Contract Reference Assembly  Build Visual Studio  AssemblyName.Contracts.dll( MSCorLib.Contracts.dll)IL   <code>System.Diagnostics.Contracts.ContractReferenceAssembly.Attribute</code>CCRewrite.exe  CCCheck.exe </p>
<p> Code Contract Document Generator(CCDocGen.exe) C#<code>/doc:file</code>  XML  CCDocGen.exe  XML  Microsoft  Sandcastle  MSDN </p>

        <script>var Be=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Me=Be((Lt,Ne)=>{var xe="Expected a function",Ae=NaN,Qe="[object Symbol]",Ze=/^\s+|\s+$/g,et=/^[-+]0x[0-9a-f]+$/i,tt=/^0b[01]+$/i,nt=/^0o[0-7]+$/i,rt=parseInt,it=typeof global=="object"&&global&&global.Object===Object&&global,at=typeof self=="object"&&self&&self.Object===Object&&self,ot=it||at||Function("return this")(),st=Object.prototype,lt=st.toString,ct=Math.max,ut=Math.min,ue=function(){return ot.Date.now()};function dt(e,t,n){var r,i,a,s,u,m,d=0,p=!1,b=!1,T=!0;if(typeof e!="function")throw new TypeError(xe);t=Le(t)||0,te(n)&&(p=!!n.leading,b="maxWait"in n,a=b?ct(Le(n.maxWait)||0,t):a,T="trailing"in n?!!n.trailing:T);function E(v){var A=r,_=i;return r=i=void 0,d=v,s=e.apply(_,A),s}function N(v){return d=v,u=setTimeout(L,t),p?E(v):s}function g(v){var A=v-m,_=v-d,h=t-A;return b?ut(h,a-_):h}function S(v){var A=v-m,_=v-d;return m===void 0||A>=t||A<0||b&&_>=a}function L(){var v=ue();if(S(v))return U(v);u=setTimeout(L,g(v))}function U(v){return u=void 0,T&&r?E(v):(r=i=void 0,s)}function R(){u!==void 0&&clearTimeout(u),d=0,r=m=i=u=void 0}function Y(){return u===void 0?s:U(ue())}function I(){var v=ue(),A=S(v);if(r=arguments,i=this,m=v,A){if(u===void 0)return N(m);if(b)return u=setTimeout(L,t),E(m)}return u===void 0&&(u=setTimeout(L,t)),s}return I.cancel=R,I.flush=Y,I}function ft(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(xe);return te(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),dt(e,t,{leading:r,maxWait:t,trailing:i})}function te(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function mt(e){return!!e&&typeof e=="object"}function gt(e){return typeof e=="symbol"||mt(e)&&lt.call(e)==Qe}function Le(e){if(typeof e=="number")return e;if(gt(e))return Ae;if(te(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=te(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Ze,"");var n=tt.test(e);return n||nt.test(e)?rt(e.slice(2),n?2:8):et.test(e)?Ae:+e}Ne.exports=ft});var pe="code-line",F=class{constructor(t,n,r){this.element=t;this.line=n;this.codeElement=r;this._detailParentElements=Array.from(Re(t,"DETAILS"))}get isVisible(){return!this._detailParentElements.some(t=>!t.open)}},ae=(()=>{let e,t=-1;return n=>{if(!e||n!==t){t=n,e=[new F(document.body,-1)];for(let r of document.getElementsByClassName(pe)){if(!(r instanceof HTMLElement))continue;let i=+r.getAttribute("data-line");isNaN(i)||(r.tagName==="CODE"&&r.parentElement&&r.parentElement.tagName==="PRE"?e.push(new F(r.parentElement,i,r)):r.tagName==="UL"||r.tagName==="OL"||e.push(new F(r,i)))}}return e}})();function oe(e,t){let n=Math.floor(e),r=ae(t),i=r[0]||null;for(let a of r){if(a.line===n)return{previous:a,next:void 0};if(a.line>n)return{previous:i,next:a};i=a}return{previous:i}}function He(e,t){let n=ae(t).filter(m=>m.isVisible),r=e-window.scrollY,i=-1,a=n.length-1;for(;i+1<a;){let m=Math.floor((i+a)/2),d=W(n[m]);d.top+d.height>=r?a=m:i=m}let s=n[a],u=W(s);return a>=1&&u.top>r?{previous:n[i],next:s}:a>1&&a<n.length&&u.top+u.height>r?{previous:s,next:n[a+1]}:{previous:s}}function W({element:e}){let t=e.getBoundingClientRect(),n=e.querySelector(`.${pe}`);if(n){let r=n.getBoundingClientRect(),i=Math.max(1,r.top-t.top);return{top:t.top,height:i}}return t}function K(e,t,n){if(!n.settings?.scrollPreviewWithEditor)return;if(e<=0){window.scroll(window.scrollX,0);return}let{previous:r,next:i}=oe(e,t);if(!r)return;let a=0,s=W(r),u=s.top;if(i&&i.line!==r.line){let m=(e-r.line)/(i.line-r.line),d=u+s.height,p=i.element.getBoundingClientRect().top-d;a=d+m*p}else{let m=e-Math.floor(e);a=u+s.height*m}a=Math.abs(a)<1?Math.sign(a):a,window.scroll(window.scrollX,Math.max(1,window.scrollY+a))}function se(e,t){let{previous:n,next:r}=He(e,t);if(n){if(n.line<0)return 0;let i=W(n),a=e-window.scrollY-i.top;if(r){let s=a/(W(r).top-i.top);return n.line+s*(r.line-n.line)}else{let s=a/i.height;return n.line+s}}return null}function ve(e,t){return ae(t).find(n=>n.element.id===e)}function*Re(e,t){for(let n=e.parentElement;n;n=n.parentElement)n.tagName===t&&(yield n)}var J=class{onDidChangeTextEditorSelection(t,n){let{previous:r}=oe(t,n);this._update(r&&(r.codeElement||r.element))}_update(t){this._unmarkActiveElement(this._current),this._markActiveElement(t),this._current=t}_unmarkActiveElement(t){t&&t.classList.toggle("code-active-line",!1)}_markActiveElement(t){t&&t.classList.toggle("code-active-line",!0)}};function he(e){document.readyState==="loading"||document.readyState==="uninitialized"?document.addEventListener("DOMContentLoaded",e):e()}var be=(e,t)=>({postMessage(n,r){e.postMessage({type:n,source:t.settings.source,...r})}});function le(e){let t=document.getElementById("vscode-markdown-preview-data");if(t){let n=t.getAttribute(e);if(n)return JSON.parse(n)}throw new Error(`Could not load data for ${e}`)}var Q=class{constructor(){this._settings=le("data-settings")}get settings(){return this._settings}updateSettings(t){this._settings=t}};var ye=11;function ke(e,t){var n=t.attributes,r,i,a,s,u;if(!(t.nodeType===ye||e.nodeType===ye)){for(var m=n.length-1;m>=0;m--)r=n[m],i=r.name,a=r.namespaceURI,s=r.value,a?(i=r.localName||i,u=e.getAttributeNS(a,i),u!==s&&(r.prefix==="xmlns"&&(i=r.name),e.setAttributeNS(a,i,s))):(u=e.getAttribute(i),u!==s&&e.setAttribute(i,s));for(var d=e.attributes,p=d.length-1;p>=0;p--)r=d[p],i=r.name,a=r.namespaceURI,a?(i=r.localName||i,t.hasAttributeNS(a,i)||e.removeAttributeNS(a,i)):t.hasAttribute(i)||e.removeAttribute(i)}}var Z,Ue="http://www.w3.org/1999/xhtml",w=typeof document>"u"?void 0:document,Fe=!!w&&"content"in w.createElement("template"),We=!!w&&w.createRange&&"createContextualFragment"in w.createRange();function Ve(e){var t=w.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}function je(e){Z||(Z=w.createRange(),Z.selectNode(w.body));var t=Z.createContextualFragment(e);return t.childNodes[0]}function qe(e){var t=w.createElement("body");return t.innerHTML=e,t.childNodes[0]}function Xe(e){return e=e.trim(),Fe?Ve(e):We?je(e):qe(e)}function ee(e,t){var n=e.nodeName,r=t.nodeName,i,a;return n===r?!0:(i=n.charCodeAt(0),a=r.charCodeAt(0),i<=90&&a>=97?n===r.toUpperCase():a<=90&&i>=97?r===n.toUpperCase():!1)}function Ye(e,t){return!t||t===Ue?w.createElement(e):w.createElementNS(t,e)}function ze(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}function ce(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var Te={OPTION:function(e,t){var n=e.parentNode;if(n){var r=n.nodeName.toUpperCase();r==="OPTGROUP"&&(n=n.parentNode,r=n&&n.nodeName.toUpperCase()),r==="SELECT"&&!n.hasAttribute("multiple")&&(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}ce(e,t,"selected")},INPUT:function(e,t){ce(e,t,"checked"),ce(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var r=e.firstChild;if(r){var i=r.nodeValue;if(i==n||!n&&i==e.placeholder)return;r.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n=-1,r=0,i=e.firstChild,a,s;i;)if(s=i.nodeName&&i.nodeName.toUpperCase(),s==="OPTGROUP")a=i,i=a.firstChild;else{if(s==="OPTION"){if(i.hasAttribute("selected")){n=r;break}r++}i=i.nextSibling,!i&&a&&(i=a.nextSibling,a=null)}e.selectedIndex=n}}},V=1,Ge=11,we=3,Ee=8;function B(){}function $e(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}function Ke(e){return function(n,r,i){if(i||(i={}),typeof r=="string")if(n.nodeName==="#document"||n.nodeName==="HTML"||n.nodeName==="BODY"){var a=r;r=w.createElement("html"),r.innerHTML=a}else r=Xe(r);var s=i.getNodeKey||$e,u=i.onBeforeNodeAdded||B,m=i.onNodeAdded||B,d=i.onBeforeElUpdated||B,p=i.onElUpdated||B,b=i.onBeforeNodeDiscarded||B,T=i.onNodeDiscarded||B,E=i.onBeforeElChildrenUpdated||B,N=i.childrenOnly===!0,g=Object.create(null),S=[];function L(c){S.push(c)}function U(c,l){if(c.nodeType===V)for(var o=c.firstChild;o;){var f=void 0;l&&(f=s(o))?L(f):(T(o),o.firstChild&&U(o,l)),o=o.nextSibling}}function R(c,l,o){b(c)!==!1&&(l&&l.removeChild(c),T(c),U(c,o))}function Y(c){if(c.nodeType===V||c.nodeType===Ge)for(var l=c.firstChild;l;){var o=s(l);o&&(g[o]=l),Y(l),l=l.nextSibling}}Y(n);function I(c){m(c);for(var l=c.firstChild;l;){var o=l.nextSibling,f=s(l);if(f){var x=g[f];x&&ee(l,x)?(l.parentNode.replaceChild(x,l),A(x,l)):I(l)}else I(l);l=o}}function v(c,l,o){for(;l;){var f=l.nextSibling;(o=s(l))?L(o):R(l,c,!0),l=f}}function A(c,l,o){var f=s(l);f&&delete g[f],!(!o&&(d(c,l)===!1||(e(c,l),p(c),E(c,l)===!1)))&&(c.nodeName!=="TEXTAREA"?_(c,l):Te.TEXTAREA(c,l))}function _(c,l){var o=l.firstChild,f=c.firstChild,x,P,k,G,O;e:for(;o;){for(G=o.nextSibling,x=s(o);f;){if(k=f.nextSibling,o.isSameNode&&o.isSameNode(f)){o=G,f=k;continue e}P=s(f);var $=f.nodeType,D=void 0;if($===o.nodeType&&($===V?(x?x!==P&&((O=g[x])?k===O?D=!1:(c.insertBefore(O,f),P?L(P):R(f,c,!0),f=O):D=!1):P&&(D=!1),D=D!==!1&&ee(f,o),D&&A(f,o)):($===we||$==Ee)&&(D=!0,f.nodeValue!==o.nodeValue&&(f.nodeValue=o.nodeValue))),D){o=G,f=k;continue e}P?L(P):R(f,c,!0),f=k}if(x&&(O=g[x])&&ee(O,o))c.appendChild(O),A(O,o);else{var ie=u(o);ie!==!1&&(ie&&(o=ie),o.actualize&&(o=o.actualize(c.ownerDocument||w)),c.appendChild(o),I(o))}o=G,f=k}v(c,f,P);var ge=Te[c.nodeName];ge&&ge(c,l)}var h=n,z=h.nodeType,me=r.nodeType;if(!N){if(z===V)me===V?ee(n,r)||(T(n),h=ze(n,Ye(r.nodeName,r.namespaceURI))):h=r;else if(z===we||z===Ee){if(me===z)return h.nodeValue!==r.nodeValue&&(h.nodeValue=r.nodeValue),h;h=r}}if(h===r)T(n);else{if(r.isSameNode&&r.isSameNode(h))return;if(A(h,r,N),S)for(var ne=0,_e=S.length;ne<_e;ne++){var re=g[S[ne]];re&&R(re,re.parentNode,!1)}}return!N&&h!==n&&n.parentNode&&(h.actualize&&(h=h.actualize(n.ownerDocument||w)),n.parentNode.replaceChild(h,n)),h}}var Je=Ke(ke),Se=Je;var Ce=Me(),H=0,Pe=new J,y=new Q,M=0,j=y.settings.source,q=acquireVsCodeApi(),de=q.getState()??{},C={...de,...le("data-state")};typeof de.scrollProgress<"u"&&de?.resource!==C.resource&&(C.scrollProgress=0);q.setState(C);var X=be(q,y);window.cspAlerter.setPoster(X);window.styleLoadingMonitor.setPoster(X);function fe(e){let t=document.getElementsByTagName("img");if(t.length>0){let n=Array.from(t,r=>r.complete?Promise.resolve():new Promise(i=>{r.addEventListener("load",()=>i()),r.addEventListener("error",()=>i())}));Promise.all(n).then(()=>setTimeout(e,0))}else setTimeout(e,0)}he(()=>{let e=C.scrollProgress;if(Oe(),typeof e=="number"&&!y.settings.fragment){fe(()=>{H+=1;let t=Math.max(1,e*document.body.clientHeight);window.scrollTo(0,t)});return}y.settings.scrollPreviewWithEditor&&fe(()=>{if(y.settings.fragment){let t;try{t=encodeURIComponent(y.settings.fragment)}catch{t=y.settings.fragment}C.fragment=void 0,q.setState(C);let n=ve(t,M);n&&(H+=1,K(n.line,M,y))}else isNaN(y.settings.line)||(H+=1,K(y.settings.line,M,y))}),typeof y.settings.selectedLine=="number"&&Pe.onDidChangeTextEditorSelection(y.settings.selectedLine,M)});var pt=(()=>{let e=Ce(t=>{H+=1,fe(()=>K(t,M,y))},50);return t=>{isNaN(t)||(C.line=t,e(t))}})();window.addEventListener("resize",()=>{H+=1,Ie()},!0);function Oe(){let e=document.getElementsByTagName("img"),t=0;for(let n of e)n.id="image-"+t,t+=1,n.setAttribute("data-vscode-context",JSON.stringify({webviewSection:"image",id:n.id,preventDefaultContextMenuItems:!0,resource:j}))}async function De(e,t=5){if(!document.hasFocus()&&t>0){setTimeout(()=>{De(e,t-1)},20);return}try{await navigator.clipboard.write([new ClipboardItem({"image/png":new Promise(n=>{let r=document.createElement("canvas");r!==null&&(r.width=e.naturalWidth,r.height=e.naturalHeight,r.getContext("2d")?.drawImage(e,0,0)),r.toBlob(i=>{i&&n(i),r.remove()},"image/png")})})])}catch(n){console.error(n)}}window.addEventListener("message",async e=>{let t=e.data;switch(t.type){case"copyImage":{let n=document.getElementById(t.id);n instanceof HTMLImageElement&&De(n);return}case"onDidChangeTextEditorSelection":t.source===j&&Pe.onDidChangeTextEditorSelection(t.line,M);return;case"updateView":t.source===j&&pt(t.line);return;case"updateContent":{let n=document.querySelector(".markdown-body"),i=new DOMParser().parseFromString(t.content,"text/html");for(let a of Array.from(i.querySelectorAll("meta")))a.hasAttribute("http-equiv")&&a.remove();if(t.source!==j)n.replaceWith(i.querySelector(".markdown-body")),j=t.source;else{let a=["open"],s=(d,p)=>{if(d.isEqualNode(p))return!0;if(d.tagName!==p.tagName||d.textContent!==p.textContent)return!1;let b=[...d.attributes].filter(g=>!a.includes(g.name)),T=[...p.attributes].filter(g=>!a.includes(g.name));if(b.length!==T.length)return!1;for(let g=0;g<b.length;++g){let S=b[g],L=T[g];if(S.name!==L.name||S.value!==L.value&&S.name!=="data-line")return!1}let E=Array.from(d.children),N=Array.from(p.children);return E.length===N.length&&E.every((g,S)=>s(g,N[S]))},u=i.querySelector(".markdown-body"),m=u.querySelectorAll("link");for(let d of m)d.remove();u.prepend(...m),Se(n,u,{childrenOnly:!0,onBeforeElUpdated:(d,p)=>{if(s(d,p)){let b=d.querySelectorAll("[data-line]"),T=p.querySelectorAll("[data-line]");b.length!==T.length&&console.log("unexpected line number change");for(let E=0;E<b.length;++E){let N=b[E],g=T[E];g&&N.setAttribute("data-line",g.getAttribute("data-line"))}return!1}return d.tagName==="DETAILS"&&p.tagName==="DETAILS"&&d.hasAttribute("open")&&p.setAttribute("open",""),!0}})}++M,window.dispatchEvent(new CustomEvent("vscode.markdown.updateContent")),Oe();break}}},!1);document.addEventListener("dblclick",e=>{if(!y.settings.doubleClickToSwitchToEditor)return;for(let r=e.target;r;r=r.parentNode)if(r.tagName==="A")return;let t=e.pageY,n=se(t,M);typeof n=="number"&&!isNaN(n)&&X.postMessage("didClick",{line:Math.floor(n)})});var vt=["http:","https:","mailto:","vscode:","vscode-insiders:"];document.addEventListener("click",e=>{if(!e)return;let t=e.target;for(;t;){if(t.tagName&&t.tagName==="A"&&t.href){if(t.getAttribute("href").startsWith("#"))return;let n=t.getAttribute("data-href");if(!n){if(vt.some(r=>t.href.startsWith(r)))return;n=t.getAttribute("href")}if(!/^[a-z\-]+:/i.test(n)){X.postMessage("openLink",{href:n}),e.preventDefault(),e.stopPropagation();return}return}t=t.parentNode}},!0);window.addEventListener("scroll",Ce(()=>{if(Ie(),H>0)H-=1;else{let e=se(window.scrollY,M);typeof e=="number"&&!isNaN(e)&&X.postMessage("revealLine",{line:e})}},50));function Ie(){C.scrollProgress=window.scrollY/document.body.clientHeight,q.setState(C)}
</script>

    </body>
</html>
